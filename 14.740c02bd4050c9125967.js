(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{WLQ1:function(e,t,n){"use strict";n.r(t),n.d(t,"PersonModule",function(){return je});var i,r=n("sYmb"),a=n("krJt"),o=n("PCNd"),c=n("tyNb"),s=n("3Pt+"),l=n("LRne"),u=n("eIep"),m=n("JX91"),b=n("lJxs"),p=n("UXun"),d=n("SxV6"),f=n("O+os"),h=n("GlzI"),v=n("Y0mc"),g=n("9nlD"),w=n("kh7C"),y=n("JIr8"),I=n("M1lw"),T=function(){function e(e,t,n){void 0===n&&(n=""),this.type=e,this.link=n,this.userName=t}return e.getLink=function(e){return function(e){switch(e){case"FACEBOOK":return"https://www.facebook.com/";case"LINKEDIN":return"https://www.linkedin.com/in/";case"TWITTER":return"https://twitter.com/";case"INSTAGRAM":return"https://www.instagram.com/";case"GITHUB":return"https://github.com/";case"YOUTUBE":return"https://www.youtube.com/channel/";case"GOOGLEPLUS":return"https://plus.google.com/u/0/";case"SKYPE":return""}return""}(e.type)+(e.link||e.userName)},e.getIcon=function(t){var n=e.types.find(function(e){return e.value===t.type});return n?n.icon:""},e.parse=function(t){var n=new e(t.type,t.userName,t.link);return n.active=t.active,n.account_id=t.account_id,n},e.types=[{label:"Facebook",value:"FACEBOOK",icon:"facebook"},{label:"Google+",value:"GOOGLEPLUS",icon:"google plus"},{label:"Github",value:"GITHUB",icon:"github"},{label:"Instagram",value:"INSTAGRAM",icon:"instagram"},{label:"LinkedIn",value:"LINKEDIN",icon:"linkedin square"},{label:"Skype",value:"SKYPE",icon:"skype"},{label:"Twitter",value:"TWITTER",icon:"twitter"},{label:"Youtube",value:"YOUTUBE",icon:"youtube"},{label:"Bitbucket",value:"BITBUCKET",icon:"bitbucket"}],e}(),U=function(){function e(e,t,n,i){void 0===e&&(e="SK"),void 0===t&&(t=""),void 0===n&&(n=""),void 0===i&&(i=""),this.streetNumber=i,this.country=e,this.street=n,this.city=t}return e.parse=function(t){var n=new e;return t?(n.streetNumber=t.streetNumber,n.street=t.street,n.country=t.country,n.city=t.city,n):n},e.toModel=function(e){return{country:e.country||"",city:e.city||"",street:e.street||"",streetNumber:e.streetNumber||""}},e}(),C=function(){function e(e,t){void 0===e&&(e="@"),void 0===t&&(t=!0),this.email=e,this.active=t}return e.parse=function(t){if(!t)return null;var n=new e;return n.email_id=t.email_id,n.email=t.email,n.active=t.active,n},e}(),N=function(){function e(e,t){void 0===e&&(e=""),void 0===t&&(t=!0),this.number=e,this.active=t}return e.parse=function(t){if(!t)return null;var n=new e;return n.number_id=t.number_id,n.number=t.number,n.active=t.active,n},e}(),O=function(){function e(){this.emails=[new C],this.numbers=[new N],this.address=new U,this.accounts=[]}return e.parse=function(t){var n=new e;return t?(n.id=t.person_id||t.id,n.name=t.name,n.surName=t.surName,n.gender=t.gender,n.birthday=t.birthday,n.nick=t.nick,n.address=t.address?U.parse(t.address):new U,n.emails=Array.isArray(t.emails)?t.emails.map(C.parse):[],n.numbers=Array.isArray(t.numbers)?t.numbers.map(N.parse):[],n.accounts=Array.isArray(t.accounts)?t.accounts.map(T.parse):[],n):n},e.toModel=function(e){return{name:e.name||"",surName:e.surName||"",nick:e.nick||"",gender:e.gender||"",birthday:e.birthday||"",address:e.address?U.toModel(e.address):void 0}},e}(),k=n("o0vB"),D=n("IYfF"),P=n("fXoL"),S=n("tk/3"),x=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),F=I.a.BASE_URL+"/persons",M=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return x(t,e),t.prototype.getPersons=function(){return this.http.get(F).pipe(Object(y.a)(this.handleError("getPersons")))},t.prototype.getDetail=function(e){return this.http.get(F+"/"+e).pipe(Object(b.a)(O.parse),Object(y.a)(this.handleError("cannot get person with id "+e)))},t.prototype.update=function(e){return this.http.put(F+"/"+e.id,e,{headers:this.getHeaders()}).pipe(Object(b.a)(O.parse),Object(y.a)(this.handleError("update person with id"+e.id)))},t.prototype.delete=function(e){return this.http.delete(F+"/"+e).pipe(Object(y.a)(this.handleError("delete person with id"+e)))},t.prototype.add=function(e){return this.http.post(F,JSON.stringify(e),{headers:this.getHeaders()}).pipe(Object(b.a)(O.parse),Object(y.a)(this.handleError("add person")))},t.prototype.addAll=function(e){return this.http.post(F+"/all",JSON.stringify(e),{headers:this.getHeaders()}).pipe(Object(b.a)(function(e){return e.map(O.parse)}),Object(y.a)(this.handleError("addAll persons")))},t.\u0275fac=function(e){return new(e||t)(P.Yb(S.c),P.Yb(D.a),P.Yb(g.a))},t.\u0275prov=P.Kb({token:t,factory:t.\u0275fac}),t}(k.a),_=n("0IaG"),G=n("Wp6s"),E=n("ofXK"),L=n("bTqV"),j=n("Xa2L"),A=n("kmnG"),B=n("qFsG"),q=n("jaxi"),$=n("/1cH"),K=n("Qu3c"),H=n("NFeN"),J=n("FtGj"),Y=n("A5z7"),R=n("1jcm"),V=function(){function e(){}return e.prototype.transform=function(e,t){return t?e.filter(function(e){return e.active}):e},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=P.Nb({name:"activePipe",type:e,pure:!0}),e}();function z(e,t){1&e&&(P.Ub(0,"mat-icon",8),P.Ic(1,"cancel"),P.Tb())}function W(e,t){if(1&e){var n=P.Vb();P.Ub(0,"mat-chip",6),P.cc("removed",function(){P.xc(n);var e=t.index;return P.gc().remove(e)}),P.Ic(1),P.Gc(2,z,2,0,"mat-icon",7),P.Tb()}if(2&e){var i=t.$implicit,r=P.gc();P.mc("removable",!r.disabled)("selectable",!1),P.Db(1),P.Kc(" ",i.number," "),P.Db(1),P.mc("ngIf",!r.disabled)}}function X(e,t){if(1&e&&(P.Ub(0,"mat-slide-toggle",9),P.Ic(1,"Aj neakt\xedvne"),P.Tb()),2&e){var n=P.gc();P.mc("formControl",n.showInactive)}}var Q=function(e){return{"full-width":e}},Z=function(){function e(){this.disabled=!0,this.numberList=[],this.showInactive=new s.e(!1),this.visible=!0,this.addOnBlur=!0,this.separatorKeysCodes=[J.g,J.c]}return e.prototype.add=function(e){var t=e.input,n=e.value;(n||"").trim()&&this.numberList.push(new N(n.trim())),t&&(t.value="")},e.prototype.remove=function(e){e>=0&&this.numberList.splice(e,1)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=P.Ib({type:e,selectors:[["app-numbers"]],inputs:{disabled:"disabled",numberList:"numberList",isNew:"isNew"},decls:7,vars:12,consts:[[1,"number-list",3,"ngClass"],[3,"disabled"],["chipList",""],[3,"removable","selectable","removed",4,"ngFor","ngForOf"],["label","Tel. number","placeholder","Tel \u010d\xedsla:",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["class","show-all-numbers",3,"formControl",4,"ngIf"],[3,"removable","selectable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[1,"show-all-numbers",3,"formControl"]],template:function(e,t){if(1&e&&(P.Ub(0,"mat-form-field",0),P.Ub(1,"mat-chip-list",1,2),P.Gc(3,W,3,4,"mat-chip",3),P.hc(4,"activePipe"),P.Ub(5,"input",4),P.cc("matChipInputTokenEnd",function(e){return t.add(e)}),P.Tb(),P.Tb(),P.Tb(),P.Gc(6,X,2,1,"mat-slide-toggle",5)),2&e){var n=P.vc(2);P.mc("ngClass",P.qc(10,Q,t.isNew)),P.Db(1),P.mc("disabled",t.disabled),P.Db(2),P.mc("ngForOf",P.jc(4,7,t.numberList,t.showInactive.value&&!t.isNew)),P.Db(2),P.mc("matChipInputFor",n)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlur),P.Db(1),P.mc("ngIf",!t.isNew)}},directives:[A.c,E.k,Y.c,E.l,Y.b,E.m,Y.a,H.a,Y.d,R.a,s.n,s.f],pipes:[V],styles:[".number-list[_ngcontent-%COMP%]{width:80%}.show-all-numbers[_ngcontent-%COMP%]{width:20%;min-width:120px}"],changeDetection:0}),e}();function ee(e,t){1&e&&(P.Ub(0,"mat-icon",9),P.Ic(1,"cancel"),P.Tb())}function te(e,t){if(1&e){var n=P.Vb();P.Ub(0,"mat-chip",7),P.cc("removed",function(){P.xc(n);var e=t.index;return P.gc().remove(e)}),P.Ic(1),P.Gc(2,ee,2,0,"mat-icon",8),P.Tb()}if(2&e){var i=t.$implicit,r=P.gc();P.mc("removable",!r.disabled)("selectable",!1),P.Db(1),P.Kc(" ",i.email," "),P.Db(1),P.mc("ngIf",!r.disabled)}}function ne(e,t){1&e&&(P.Ub(0,"mat-error",10),P.Ic(1," Please enter a valid email address "),P.Tb())}function ie(e,t){if(1&e&&(P.Ub(0,"mat-slide-toggle",11),P.Ic(1,"Aj neakt\xedvne"),P.Tb()),2&e){var n=P.gc();P.mc("formControl",n.showInactive)}}var re=function(e){return{"full-width":e}},ae=function(){function e(){this.disabled=!0,this.emailList=[],this.showInactive=new s.e(!1),this.values=new s.e("",s.u.email),this.separatorKeysCodes=[J.g,J.c]}return e.prototype.add=function(e){if(!this.values.errors){var t=e.input,n=e.value;(n||"").trim()&&this.emailList.push(new C(n.trim())),t&&(t.value="")}},e.prototype.remove=function(e){e>=0&&this.emailList.splice(e,1)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=P.Ib({type:e,selectors:[["app-email"]],inputs:{disabled:"disabled",emailList:"emailList",isNew:"isNew"},decls:8,vars:14,consts:[[1,"email-list",3,"ngClass"],[3,"disabled"],["chipList",""],["class","person-email",3,"removable","selectable","removed",4,"ngFor","ngForOf"],["label","Email","placeholder","Emaily:",3,"matChipInputAddOnBlur","matChipInputFor","formControl","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["class","email-error-message",4,"ngIf"],["class","show-all-emails",3,"formControl",4,"ngIf"],[1,"person-email",3,"removable","selectable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[1,"email-error-message"],[1,"show-all-emails",3,"formControl"]],template:function(e,t){if(1&e&&(P.Ub(0,"mat-form-field",0),P.Ub(1,"mat-chip-list",1,2),P.Gc(3,te,3,4,"mat-chip",3),P.hc(4,"activePipe"),P.Ub(5,"input",4),P.cc("matChipInputTokenEnd",function(e){return t.add(e)}),P.Tb(),P.Gc(6,ne,2,0,"mat-error",5),P.Tb(),P.Tb(),P.Gc(7,ie,2,1,"mat-slide-toggle",6)),2&e){var n=P.vc(2);P.mc("ngClass",P.qc(12,re,t.isNew)),P.Db(1),P.mc("disabled",t.disabled),P.Db(2),P.mc("ngForOf",P.jc(4,9,t.emailList,t.showInactive.value&&!t.isNew)),P.Db(2),P.mc("matChipInputAddOnBlur",!0)("matChipInputFor",n)("formControl",t.values)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),P.Db(1),P.mc("ngIf",t.values.hasError("email")),P.Db(1),P.mc("ngIf",!t.isNew)}},directives:[A.c,E.k,Y.c,E.l,Y.b,s.c,s.n,s.f,E.m,Y.a,H.a,Y.d,A.b,R.a],pipes:[V],styles:[".email-list[_ngcontent-%COMP%]{width:80%}.show-all-emails[_ngcontent-%COMP%]{width:20%;min-width:120px}"],changeDetection:0}),e}(),oe=n("FKr1"),ce=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function se(e,t){1&e&&P.Pb(0,"mat-spinner")}function le(e,t){1&e&&(P.Ub(0,"mat-error"),P.Ic(1," Name is "),P.Ub(2,"strong"),P.Ic(3,"required"),P.Tb(),P.Tb())}function ue(e,t){1&e&&(P.Ub(0,"mat-error"),P.Ic(1," Surname is "),P.Ub(2,"strong"),P.Ic(3,"required"),P.Tb(),P.Tb())}function me(e,t){if(1&e&&(P.Ub(0,"mat-option",25),P.Ic(1),P.Tb()),2&e){var n=t.$implicit;P.mc("value",n),P.Db(1),P.Kc(" ",n," ")}}function be(e,t){if(1&e){var n=P.Vb();P.Ub(0,"form",5),P.Ub(1,"div",6),P.Ub(2,"div"),P.Ub(3,"mat-form-field",7),P.Pb(4,"input",8),P.hc(5,"translate"),P.Gc(6,le,4,0,"mat-error",1),P.Tb(),P.Tb(),P.Ub(7,"div"),P.Ub(8,"mat-form-field",7),P.Pb(9,"input",9),P.hc(10,"translate"),P.Gc(11,ue,4,0,"mat-error",1),P.Tb(),P.Tb(),P.Ub(12,"div"),P.Ub(13,"mat-form-field",7),P.Pb(14,"input",10),P.hc(15,"translate"),P.Tb(),P.Tb(),P.Tb(),P.Ub(16,"div",6),P.Ub(17,"div"),P.Ub(18,"mat-form-field",7),P.Pb(19,"input",11),P.hc(20,"translate"),P.Tb(),P.Tb(),P.Ub(21,"div"),P.Ic(22," Pohlavie: "),P.Ub(23,"mat-button-toggle-group",12),P.Ub(24,"mat-button-toggle",13),P.Ic(25,"Mu\u017e"),P.Tb(),P.Ub(26,"mat-button-toggle",14),P.Ic(27,"\u017dena"),P.Tb(),P.Tb(),P.Tb(),P.Tb(),P.Ub(28,"div",15),P.Ub(29,"div"),P.Ub(30,"mat-form-field",7),P.Pb(31,"input",16),P.Ub(32,"mat-autocomplete",null,17),P.Gc(34,me,2,2,"mat-option",18),P.hc(35,"async"),P.Tb(),P.Tb(),P.Tb(),P.Ub(36,"div"),P.Ub(37,"mat-form-field",7),P.Pb(38,"input",19),P.Tb(),P.Tb(),P.Ub(39,"div"),P.Ub(40,"mat-form-field",7),P.Pb(41,"input",20),P.Tb(),P.Tb(),P.Ub(42,"div"),P.Ub(43,"mat-form-field",7),P.Pb(44,"input",21),P.Tb(),P.Tb(),P.Ub(45,"div"),P.Ub(46,"button",22),P.cc("click",function(){return P.xc(n),P.gc().showMap()}),P.Ub(47,"mat-icon"),P.Ic(48,"map"),P.Tb(),P.Tb(),P.Tb(),P.Tb(),P.Pb(49,"app-numbers",23),P.hc(50,"async"),P.Pb(51,"app-email",24),P.hc(52,"async"),P.Tb()}if(2&e){var i=t.ngIf,r=P.vc(33),a=P.gc();P.mc("formGroup",a.detailForm),P.Db(4),P.mc("placeholder",P.ic(5,15,"persons.detail.name")),P.Db(2),P.mc("ngIf",a.detailForm.get("name").hasError("required")),P.Db(3),P.mc("placeholder",P.ic(10,17,"persons.detail.surName")),P.Db(2),P.mc("ngIf",a.detailForm.get("surName").hasError("required")),P.Db(3),P.mc("placeholder",P.ic(15,19,"persons.detail.nick")),P.Db(5),P.mc("placeholder",P.ic(20,21,"persons.detail.name")),P.Db(12),P.mc("matAutocomplete",r),P.Db(3),P.mc("ngForOf",P.ic(35,23,a.filteredCountries$)),P.Db(15),P.mc("disabled",a.detailForm.disabled)("numberList",i.numbers)("isNew",P.ic(50,25,a.isNew$)),P.Db(2),P.mc("disabled",a.detailForm.disabled)("emailList",i.emails)("isNew",P.ic(52,27,a.isNew$))}}function pe(e,t){if(1&e){var n=P.Vb();P.Ub(0,"button",26),P.cc("click",function(){return P.xc(n),P.gc().save()}),P.Ic(1," Ulo\u017ei\u0165 "),P.Tb()}if(2&e){var i=P.gc();P.mc("disabled",i.detailForm.invalid)}}function de(e,t){if(1&e){var n=P.Vb();P.Ub(0,"button",26),P.cc("click",function(){return P.xc(n),P.gc().edit()}),P.Ic(1," Upravi\u0165 "),P.Tb()}if(2&e){var i=P.gc();P.mc("disabled",i.detailForm.invalid)}}var fe=function(e){function t(t,n,i,r,a,o,c,s){var d=e.call(this,c,t,n,s,o,"persons")||this;return d.mapService=i,d.dialog=r,d.utilService=a,d.countries$=d.utilService.countries$,d.filteredCountries$=d.countries$.pipe(Object(u.a)(function(e){var t,n;return(null!==(n=null===(t=d.detailForm.get("address.country"))||void 0===t?void 0:t.valueChanges.pipe(Object(m.a)("")))&&void 0!==n?n:Object(l.a)("")).pipe(Object(b.a)(function(t){var n=t.toLowerCase();return e.filter(function(e){return e.toLowerCase().includes(n)})}))}),Object(p.a)(1)),d}return ce(t,e),t.prototype.ngOnInit=function(){this.initialization()},t.prototype.save=function(){var e=this;this.loadingSource$.next(!0),this.isNew$.pipe(Object(u.a)(function(t){return(t?e.httpService.add:e.httpService.update).call(e.httpService,e.selectedDetail)}),Object(d.a)()).subscribe({next:function(t){return e.setDetail(t)},complete:function(){return e.loadingSource$.next(!1)}})},t.prototype.showMap=function(){this.dialog.open(h.a,{width:"95%",height:"95%",data:this.mapService.getLocationEmbedUrlFromAddress(this.detailForm.value.address)})},t.prototype.setDetail=function(e){this.selectedDetail=e,this.selectedDetailSource$.next(e),this.loadingSource$.next(!1),this.detailForm.patchValue(this.selectedDetail)},t.prototype.createForm=function(){return this.formBuilder.group({name:["",{validators:s.u.required}],surName:["",{validators:s.u.required}],nick:"",birthday:["",{validators:s.u.pattern(/(\d|\?){2}\.(\d|\?){2}.(\d|\?){4}/)}],gender:["",{validators:s.u.required}],address:this.formBuilder.group({country:"",city:"",street:"",streetNumber:""})})},t.\u0275fac=function(e){return new(e||t)(P.Ob(c.a),P.Ob(c.h),P.Ob(v.a),P.Ob(_.b),P.Ob(w.a),P.Ob(g.a),P.Ob(s.d),P.Ob(M))},t.\u0275cmp=P.Ib({type:t,selectors:[["app-person-detail"]],features:[P.Ab],decls:10,vars:8,consts:[[2,"display","flex","justify-content","center"],[4,"ngIf"],["class","full-width","style","align-content: center",3,"formGroup",4,"ngIf"],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"click"],[1,"full-width",2,"align-content","center",3,"formGroup"],[1,"flex-row"],[1,"full-width"],["matInput","","formControlName","name",3,"placeholder"],["matInput","","formControlName","surName",3,"placeholder"],["matInput","","formControlName","nick",3,"placeholder"],["matInput","","formControlName","birthday",3,"placeholder"],["formControlName","gender","aria-label","Font Style"],["value","MALE"],["value","FEMALE"],["formGroupName","address",1,"flex-row"],["matInput","","type","text","placeholder","\u0160t\xe1t","formControlName","country",3,"matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","city","placeholder","Mesto"],["matInput","","formControlName","street","placeholder","Ulica"],["matInput","","formControlName","streetNumber","placeholder","\u010c\xedslo domu"],["mat-icon-button","","matTooltip","Show address on map",3,"click"],[3,"disabled","numberList","isNew"],[3,"disabled","emailList","isNew"],[3,"value"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(e,t){1&e&&(P.Ub(0,"mat-card"),P.Ub(1,"div",0),P.Gc(2,se,1,0,"mat-spinner",1),P.hc(3,"async"),P.Tb(),P.Gc(4,be,53,29,"form",2),P.hc(5,"async"),P.Gc(6,pe,2,1,"button",3),P.Gc(7,de,2,1,"button",3),P.Ub(8,"button",4),P.cc("click",function(){return t.back()}),P.Ic(9,"Nasp\xe4\u0165"),P.Tb(),P.Tb()),2&e&&(P.Db(2),P.mc("ngIf",P.ic(3,4,t.loading$)),P.Db(2),P.mc("ngIf",P.ic(5,6,t.selectedDetail$)),P.Db(2),P.mc("ngIf",!t.disabled),P.Db(1),P.mc("ngIf",t.disabled))},directives:[G.a,E.m,L.b,j.b,s.v,s.o,s.h,A.c,B.b,s.c,s.n,s.g,q.b,q.a,s.i,$.c,$.a,E.l,K.a,H.a,Z,ae,A.b,oe.m],pipes:[E.b,r.c],styles:[".flex-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.flex-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-right:1em}@media only screen and (max-width:408px){.flex-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-right:1em}"],changeDetection:0}),t}(f.a),he=n("3S9H"),ve=n("GyhO"),ge=function(){function e(e,t,n){this.personHttpService=e,this.notificationService=t,this.router=n,this.persons$=this.personHttpService.getPersons().pipe(Object(p.a)(1))}return e.prototype.deletePerson=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Object(ve.a)(t.map(function(t){return e.personHttpService.delete(t)})).subscribe(function(){e.notificationService.openSuccessNotification(t.length+" persons successfully removed")},function(t){return e.notificationService.openErrorNotification(t)})},e.prototype.showPersonCreateForm=function(){this.router.navigateByUrl("/persons/quick-create")},e.prototype.showDetail=function(e){this.router.navigateByUrl("/persons/"+e)},e.\u0275fac=function(t){return new(t||e)(P.Yb(M),P.Yb(g.a),P.Yb(c.h))},e.\u0275prov=P.Kb({token:e,factory:e.\u0275fac}),e}(),we=n("STbY"),ye=n("TU8p");function Ie(e,t){if(1&e&&(P.Ub(0,"button",6),P.Ub(1,"a",7),P.Ub(2,"span"),P.Ic(3),P.Tb(),P.Tb(),P.Tb()),2&e){var n=t.$implicit;P.mc("disabled",!n.active),P.Db(1),P.oc("href","mailto:",n.email,"",P.Ac),P.Db(2),P.Jc(n.email)}}function Te(e,t){if(1&e&&(P.Ub(0,"button",6),P.Ub(1,"a",7),P.Ub(2,"span"),P.Ic(3),P.Tb(),P.Tb(),P.Tb()),2&e){var n=t.$implicit;P.mc("disabled",!n.active),P.Db(1),P.oc("href","tel:",n.number,"",P.Ac),P.Db(2),P.Jc(n.number)}}function Ue(e,t){if(1&e&&(P.Ub(0,"button",1),P.Ub(1,"mat-icon",2),P.Ic(2,"email"),P.Tb(),P.Tb(),P.Ub(3,"mat-menu",null,3),P.Gc(5,Ie,4,3,"button",4),P.Tb(),P.Ub(6,"button",1),P.Ub(7,"mat-icon",2),P.Ic(8,"call"),P.Tb(),P.Tb(),P.Ub(9,"mat-menu",null,5),P.Gc(11,Te,4,3,"button",4),P.Tb()),2&e){var n=P.vc(4),i=P.vc(10),r=P.gc();P.mc("disabled",!r.person||!(null!=r.person.emails&&r.person.emails.length))("matMenuTriggerFor",n),P.Db(1),P.mc("matBadge",null==r.person.emails?null:r.person.emails.length),P.Db(4),P.mc("ngForOf",r.person.emails),P.Db(1),P.mc("disabled",!r.person||!(null!=r.person.numbers&&r.person.numbers.length))("matMenuTriggerFor",i),P.Db(1),P.mc("matBadge",null==r.person.numbers?null:r.person.numbers.length),P.Db(4),P.mc("ngForOf",r.person.numbers)}}var Ce=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=P.Ib({type:e,selectors:[["app-person-list-row-cell-select"]],inputs:{person:"person"},decls:1,vars:1,consts:[[3,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"disabled","matMenuTriggerFor"],[3,"matBadge"],["menuEmails","matMenu"],["mat-menu-item","",3,"disabled",4,"ngFor","ngForOf"],["menuNumber","matMenu"],["mat-menu-item","",3,"disabled"],[3,"href"]],template:function(e,t){1&e&&P.Gc(0,Ue,12,8,"ng-template",0),2&e&&P.mc("ngIf",t.person)},directives:[E.m,L.b,we.d,H.a,ye.a,we.a,E.l,we.b],encapsulation:2,changeDetection:0}),e}(),Ne=n("c4N/");function Oe(e,t){1&e&&P.Pb(0,"app-person-list-row-cell-select",6),2&e&&P.mc("person",t.row)}function ke(e,t){if(1&e){var n=P.Vb();P.Ub(0,"button",7),P.cc("click",function(){P.xc(n);var e=t.row;return P.gc().onShowDetailClick(e.id)}),P.Ub(1,"mat-icon"),P.Ic(2,"chevron_right"),P.Tb(),P.Tb(),P.Ub(3,"button",8),P.cc("click",function(){P.xc(n);var e=t.row;return P.gc().remove(e)}),P.Ub(4,"mat-icon"),P.Ic(5,"delete"),P.Tb(),P.Tb()}}function De(e,t){1&e&&(P.Ic(0),P.hc(1,"date")),2&e&&P.Kc(" ",P.jc(1,1,t.row.birthday,"dd.MM.yyyy")," ")}var Pe=function(e,t,n){return{options:e,contacts:t,birthday:n}};function Se(e,t){if(1&e&&P.Pb(0,"app-abstract-table",9),2&e){var n=t.ngIf,i=P.gc(),r=P.vc(4),a=P.vc(2),o=P.vc(6);P.mc("tableConfig",i.personConfig)("templates",P.sc(3,Pe,r,a,o))("data",n)}}var xe=function(){function e(e,t){this.personService=e,this.authService=t,this.Roles=he.a,this.user$=this.authService.user$,this.personData$=this.personService.persons$,this.personConfig={stickyEnd:3,columns:[{name:"contacts",nowrap:!0},{name:"name",customContent:function(e){return(e.name||"")+" "+(e.surName||"")}},{name:"nick",label:"Nick",sort:!0},{name:"birthday",label:"Birthday",sort:!0},{name:"account",label:"Account",visible:!1},{name:"options",width:"9em",nowrap:!0}],selectOptions:[{action:console.log,icon:"delete",label:"Delete"}],stickyHeader:!0,selection:"multi",paginateOptions:[5,10,20,50,100],pageSize:10,paginator:!0}}return e.prototype.remove=function(e){var t;(t=this.personService).deletePerson.apply(t,e.map(function(e){return e.id}))},e.prototype.onAddPersonClick=function(){this.personService.showPersonCreateForm()},e.prototype.onShowDetailClick=function(e){this.personService.showDetail(e)},e.\u0275fac=function(t){return new(t||e)(P.Ob(ge),P.Ob(D.a))},e.\u0275cmp=P.Ib({type:e,selectors:[["app-person-list"]],features:[P.Cb([ge])],decls:12,vars:3,consts:[[1,"person-wrapper"],["cellSelect",""],["cellOptions",""],["cellBirthday",""],[3,"tableConfig","templates","data",4,"ngIf"],["mat-fab","","matTooltip","Prida\u0165 osobu",1,"floating-add",3,"click"],[3,"person"],["color","primary","matTooltip","Zobrazi\u0165 detail","mat-icon-button","",3,"click"],["color","primary","matTooltip","Odstr\xe1ni\u0165","mat-icon-button","",3,"click"],[3,"tableConfig","templates","data"]],template:function(e,t){1&e&&(P.Ub(0,"div",0),P.Gc(1,Oe,1,1,"ng-template",null,1,P.Hc),P.Gc(3,ke,6,0,"ng-template",null,2,P.Hc),P.Gc(5,De,2,4,"ng-template",null,3,P.Hc),P.Gc(7,Se,1,7,"app-abstract-table",4),P.hc(8,"async"),P.Ub(9,"button",5),P.cc("click",function(){return t.onAddPersonClick()}),P.Ub(10,"mat-icon"),P.Ic(11,"add"),P.Tb(),P.Tb(),P.Tb()),2&e&&(P.Db(7),P.mc("ngIf",P.ic(8,1,t.personData$)))},directives:[E.m,L.b,K.a,H.a,Ce,Ne.a],pipes:[E.b,E.e],styles:[".person-wrapper[_ngcontent-%COMP%]{padding-bottom:10em}.person-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.person-wrapper[_ngcontent-%COMP%]   .floating-add[_ngcontent-%COMP%]{position:fixed;right:3em;bottom:3em}"],changeDetection:0}),e}(),Fe=n("QibW"),Me=n("bSwM");function _e(e,t){1&e&&(P.Ub(0,"mat-form-field",8),P.Ub(1,"mat-label"),P.Ic(2),P.hc(3,"translate"),P.Tb(),P.Pb(4,"input",15),P.Ub(5,"mat-checkbox",16),P.Ic(6,"Split"),P.Tb(),P.Tb()),2&e&&(P.Db(2),P.Jc(P.ic(3,1,"persons.quit-create.nameAndSurname")))}function Ge(e,t){1&e&&(P.Ub(0,"div",17),P.Ub(1,"mat-form-field",18),P.Ub(2,"mat-label"),P.Ic(3),P.hc(4,"translate"),P.Tb(),P.Pb(5,"input",19),P.Tb(),P.Ub(6,"mat-form-field",18),P.Ub(7,"mat-label"),P.Ic(8),P.hc(9,"translate"),P.Tb(),P.Pb(10,"input",20),P.Ub(11,"mat-checkbox",16),P.Ic(12,"Split"),P.Tb(),P.Tb(),P.Tb()),2&e&&(P.Db(3),P.Jc(P.ic(4,2,"persons.quit-create.name")),P.Db(5),P.Jc(P.ic(9,4,"persons.quit-create.surName")))}var Ee=[{path:"",children:[{path:"",pathMatch:"full",component:xe},{path:"quick-create",component:function(){function e(e,t,n){this.personHttpService=e,this.formBuilder=t,this.notificationService=n,this.createForm=this.formBuilder.group({phone:"",rawName:"",surName:"",gender:"",name:"",email:"",splitName:!1})}return e.prototype.getName=function(e){var t,n,i,r=null===(t=e.surName)||void 0===t?void 0:t.trim(),a=null===(n=e.name)||void 0===n?void 0:n.trim();if(r&&a)return{name:a,surName:r};var o=null===(i=e.rawName)||void 0===i?void 0:i.trim();if(!o)throw this.notificationService.openErrorNotification("Name is not valid"),new Error("Name is not valid");var c=o.split(" ");if(1===c.length)return{nick:c[0].trim()};if(2===c.length)return{name:c[0].trim(),surName:c[1].trim()};if(3===c.length)return{name:c[0].trim(),nick:c[1].trim(),surName:c[2].trim()};throw this.notificationService.openErrorNotification("Name is not valid"),new Error("Name is not valid")},e.prototype.onPersonCreateClick=function(){var e=this,t=this.createForm.value,n=this.getName(t),i=[],r=[];t.phone&&i.push({active:!0,number:t.number}),t.email&&r.push({active:!0,email:t.email}),this.personHttpService.add({numbers:i,emails:r,gender:t.gender,nick:n.nick,name:n.name,surName:n.surName}).subscribe(function(){e.notificationService.openSuccessNotification("Person created")},function(t){return e.notificationService.openErrorNotification("Error during creation "+t)})},e.prototype.onBackClick=function(){},e.\u0275fac=function(t){return new(t||e)(P.Ob(M),P.Ob(s.d),P.Ob(g.a))},e.\u0275cmp=P.Ib({type:e,selectors:[["app-person-quick-create"]],decls:37,vars:13,consts:[[1,"quick-create-wrapper"],[2,"max-width","min(512px, 100%)"],[3,"formGroup"],["class","full-width",4,"ngIf"],["class","half-width","style","display: inline-flex; width: 100%; align-items: center",4,"ngIf"],["formControlName","gender","required","","aria-label","Gender"],["value","male"],["value","female"],[1,"full-width"],["matPrefix",""],["type","tel","matInput","","placeholder","905 123 456","formControlName","phone"],["matSuffix",""],["type","email","matInput","","placeholder","abc@def.ghi","formControlName","email"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","",3,"click"],["type","text","required","","autocomplete","off","formControlName","rawName","matInput",""],["matSuffix","","formControlName","splitName",1,"example-margin"],[1,"half-width",2,"display","inline-flex","width","100%","align-items","center"],[2,"width","50%"],["type","text","autocomplete","off","matInput","","formControlName","name"],["type","text","autocomplete","off","matInput","","formControlName","surName"]],template:function(e,t){var n,i;1&e&&(P.Ub(0,"div",0),P.Pb(1,"h2"),P.Ub(2,"mat-card",1),P.Ub(3,"mat-card-title"),P.Ic(4),P.hc(5,"translate"),P.Tb(),P.Ub(6,"mat-card-content"),P.Ub(7,"form",2),P.Gc(8,_e,7,3,"mat-form-field",3),P.Gc(9,Ge,13,6,"div",4),P.Ub(10,"div"),P.Ub(11,"mat-radio-group",5),P.Ub(12,"mat-radio-button",6),P.Ic(13,"Mu\u017e"),P.Tb(),P.Ub(14,"mat-radio-button",7),P.Ic(15,"\u017dena"),P.Tb(),P.Tb(),P.Tb(),P.Ub(16,"mat-form-field",8),P.Ub(17,"mat-label"),P.Ic(18),P.hc(19,"translate"),P.Tb(),P.Ub(20,"span",9),P.Ic(21,"+421 \xa0"),P.Tb(),P.Pb(22,"input",10),P.Ub(23,"mat-icon",11),P.Ic(24,"phone"),P.Tb(),P.Tb(),P.Ub(25,"mat-form-field",8),P.Ub(26,"mat-label"),P.Ic(27),P.hc(28,"translate"),P.Tb(),P.Pb(29,"input",12),P.Ub(30,"mat-icon",11),P.Ic(31,"email"),P.Tb(),P.Tb(),P.Tb(),P.Tb(),P.Ub(32,"mat-card-actions"),P.Ub(33,"button",13),P.cc("click",function(){return t.onPersonCreateClick()}),P.Ic(34,"Create"),P.Tb(),P.Ub(35,"button",14),P.cc("click",function(){return t.onBackClick()}),P.Ic(36,"Back"),P.Tb(),P.Tb(),P.Tb(),P.Tb()),2&e&&(P.Db(4),P.Jc(P.ic(5,7,"persons.quit-create.title")),P.Db(3),P.mc("formGroup",t.createForm),P.Db(1),P.mc("ngIf",!(null!=(n=t.createForm.get("splitName"))&&n.value)),P.Db(1),P.mc("ngIf",null==(i=t.createForm.get("splitName"))?null:i.value),P.Db(9),P.Jc(P.ic(19,9,"persons.quit-create.phone")),P.Db(9),P.Jc(P.ic(28,11,"persons.quit-create.email")),P.Db(6),P.mc("disabled",t.createForm.invalid))},directives:[G.a,G.f,G.c,s.v,s.o,s.h,E.m,Fe.b,s.n,s.g,s.t,Fe.a,A.c,A.f,A.g,B.b,s.c,H.a,A.h,G.b,L.b,Me.a],pipes:[r.c],styles:[".quick-create-wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.quick-create-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{max-width:400px}.half-width[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}"],changeDetection:0}),e}()},{path:":id",component:fe}]}],Le=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=P.Mb({type:e}),e.\u0275inj=P.Lb({imports:[[c.k.forChild(Ee)],c.k]}),e}(),je=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=P.Mb({type:e}),e.\u0275inj=P.Lb({providers:[M],imports:[[a.a,Le,r.b,o.a]]}),e}()}}]);