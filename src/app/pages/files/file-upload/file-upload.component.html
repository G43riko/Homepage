<div *ngIf="authService.user$ | async as user">
    <input (change)="startUpload($event.target.files, user)" type="file">

    <div *ngIf="percentage | async as pct">
        <progress [value]="pct" max="100"></progress>
    </div>

    <div *ngIf="snapshot | async as snap">
        {{ snap.bytesTransferred }} of {{ snap.totalBytes }}
        <div *ngIf="downloadUrl | async as url">
            <h3>Results!</h3>
            <img [src]="url" alt="">
            <a [href]="url">Download me!</a>
        </div>

        <button (click)="task.pause()">Pause</button>
        <button (click)="task.cancel()">Cancel</button>
        <button (click)="task.resume()">Resume</button>
    </div>
</div>
