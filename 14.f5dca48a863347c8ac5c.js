(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{WLQ1:function(t,e,n){"use strict";n.r(e),n.d(e,"PersonModule",function(){return Dt});var i,r=n("krJt"),a=n("PCNd"),o=n("tyNb"),c=n("3Pt+"),s=n("JX91"),l=n("lJxs"),u=n("O+os"),m=n("GlzI"),b=n("Y0mc"),p=n("9nlD"),d=n("kh7C"),f=n("JIr8"),h=n("M1lw"),v=function(){function t(t,e,n){void 0===n&&(n=""),this.type=t,this.link=n,this.userName=e}return t.getLink=function(t){return function(t){switch(t){case"FACEBOOK":return"https://www.facebook.com/";case"LINKEDIN":return"https://www.linkedin.com/in/";case"TWITTER":return"https://twitter.com/";case"INSTAGRAM":return"https://www.instagram.com/";case"GITHUB":return"https://github.com/";case"YOUTUBE":return"https://www.youtube.com/channel/";case"GOOGLEPLUS":return"https://plus.google.com/u/0/";case"SKYPE":return""}return""}(t.type)+(t.link||t.userName)},t.getIcon=function(e){var n=t.types.find(function(t){return t.value===e.type});return n?n.icon:""},t.parse=function(e){var n=new t(e.type,e.userName,e.link);return n.active=e.active,n.account_id=e.account_id,n},t.types=[{label:"Facebook",value:"FACEBOOK",icon:"facebook"},{label:"Google+",value:"GOOGLEPLUS",icon:"google plus"},{label:"Github",value:"GITHUB",icon:"github"},{label:"Instagram",value:"INSTAGRAM",icon:"instagram"},{label:"LinkedIn",value:"LINKEDIN",icon:"linkedin square"},{label:"Skype",value:"SKYPE",icon:"skype"},{label:"Twitter",value:"TWITTER",icon:"twitter"},{label:"Youtube",value:"YOUTUBE",icon:"youtube"},{label:"Bitbucket",value:"BITBUCKET",icon:"bitbucket"}],t}(),g=function(){function t(t,e,n,i){void 0===t&&(t="SK"),void 0===e&&(e=""),void 0===n&&(n=""),void 0===i&&(i=""),this.streetNumber=i,this.country=t,this.street=n,this.city=e}return t.parse=function(e){var n=new t;return e?(n.streetNumber=e.streetNumber,n.street=e.street,n.country=e.country,n.city=e.city,n):n},t.toModel=function(t){return{country:t.country||"",city:t.city||"",street:t.street||"",streetNumber:t.streetNumber||""}},t}(),w=function(){function t(t,e){void 0===t&&(t="@"),void 0===e&&(e=!0),this.email=t,this.active=e}return t.parse=function(e){if(!e)return null;var n=new t;return n.email_id=e.email_id,n.email=e.email,n.active=e.active,n},t}(),y=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=!0),this.number=t,this.active=e}return t.parse=function(e){if(!e)return null;var n=new t;return n.number_id=e.number_id,n.number=e.number,n.active=e.active,n},t}(),I=function(){function t(){this.emails=[new w],this.numbers=[new y],this.address=new g,this.accounts=[]}return t.parse=function(e){var n=new t;return e?(n.id=e.person_id||e.id,n.name=e.name,n.surName=e.surName,n.gender=e.gender,n.birthday=e.birthday,n.nick=e.nick,n.address=e.address?g.parse(e.address):new g,n.emails=Array.isArray(e.emails)?e.emails.map(w.parse):[],n.numbers=Array.isArray(e.numbers)?e.numbers.map(y.parse):[],n.accounts=Array.isArray(e.accounts)?e.accounts.map(v.parse):[],n):n},t.toModel=function(t){return{name:t.name||"",surName:t.surName||"",nick:t.nick||"",gender:t.gender||"",birthday:t.birthday||"",address:t.address?g.toModel(t.address):void 0}},t}(),T=n("o0vB"),O=n("IYfF"),U=n("fXoL"),C=n("tk/3"),N=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),k=h.a.BASE_URL+"/persons",D=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return N(e,t),e.prototype.getPersons=function(){return this.http.get(k).pipe(Object(f.a)(this.handleError("getPersons")))},e.prototype.getDetail=function(t){return this.http.get(k+"/"+t).pipe(Object(l.a)(I.parse),Object(f.a)(this.handleError("cannot get person with id "+t)))},e.prototype.update=function(t){return this.http.put(k+"/"+t.id,t,{headers:this.getHeaders()}).pipe(Object(l.a)(I.parse),Object(f.a)(this.handleError("update person with id"+t.id)))},e.prototype.delete=function(t){return this.http.delete(k+"/"+t).pipe(Object(f.a)(this.handleError("delete person with id"+t)))},e.prototype.add=function(t){return this.http.post(k,JSON.stringify(t),{headers:this.getHeaders()}).pipe(Object(l.a)(I.parse),Object(f.a)(this.handleError("add person")))},e.prototype.addAll=function(t){return this.http.post(k+"/all",JSON.stringify(t),{headers:this.getHeaders()}).pipe(Object(l.a)(function(t){return t.map(I.parse)}),Object(f.a)(this.handleError("addAll persons")))},e.\u0275fac=function(t){return new(t||e)(U.Yb(C.c),U.Yb(O.a),U.Yb(p.a))},e.\u0275prov=U.Kb({token:e,factory:e.\u0275fac}),e}(T.a),P=n("0IaG"),_=n("Wp6s"),F=n("ofXK"),G=n("bTqV"),M=n("Xa2L"),S=n("kmnG"),E=n("qFsG"),L=n("jaxi"),A=n("/1cH"),j=n("Qu3c"),x=n("NFeN"),B=n("FtGj"),K=n("A5z7"),H=n("1jcm"),q=function(){function t(){}return t.prototype.transform=function(t,e){return e?t.filter(function(t){return t.active}):t},t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=U.Nb({name:"activePipe",type:t,pure:!0}),t}();function Y(t,e){1&t&&(U.Ub(0,"mat-icon",8),U.Ic(1,"cancel"),U.Tb())}function J(t,e){if(1&t){var n=U.Vb();U.Ub(0,"mat-chip",6),U.cc("removed",function(){U.xc(n);var t=e.index;return U.gc().remove(t)}),U.Ic(1),U.Gc(2,Y,2,0,"mat-icon",7),U.Tb()}if(2&t){var i=e.$implicit,r=U.gc();U.mc("removable",!r.disabled)("selectable",!1),U.Db(1),U.Kc(" ",i.number," "),U.Db(1),U.mc("ngIf",!r.disabled)}}function R(t,e){if(1&t&&(U.Ub(0,"mat-slide-toggle",9),U.Ic(1,"Aj neakt\xedvne"),U.Tb()),2&t){var n=U.gc();U.mc("formControl",n.showInactive)}}var V=function(t){return{"full-width":t}},z=function(){function t(){this.disabled=!0,this.numberList=[],this.showInactive=new c.e(!1),this.visible=!0,this.addOnBlur=!0,this.separatorKeysCodes=[B.g,B.c]}return t.prototype.add=function(t){var e=t.input,n=t.value;(n||"").trim()&&this.numberList.push(new y(n.trim())),e&&(e.value="")},t.prototype.remove=function(t){t>=0&&this.numberList.splice(t,1)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=U.Ib({type:t,selectors:[["app-numbers"]],inputs:{disabled:"disabled",numberList:"numberList",isNew:"isNew"},decls:7,vars:12,consts:[[1,"number-list",3,"ngClass"],[3,"disabled"],["chipList",""],[3,"removable","selectable","removed",4,"ngFor","ngForOf"],["label","Tel. number","placeholder","Tel \u010d\xedsla:",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["class","show-all-numbers",3,"formControl",4,"ngIf"],[3,"removable","selectable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[1,"show-all-numbers",3,"formControl"]],template:function(t,e){if(1&t&&(U.Ub(0,"mat-form-field",0),U.Ub(1,"mat-chip-list",1,2),U.Gc(3,J,3,4,"mat-chip",3),U.hc(4,"activePipe"),U.Ub(5,"input",4),U.cc("matChipInputTokenEnd",function(t){return e.add(t)}),U.Tb(),U.Tb(),U.Tb(),U.Gc(6,R,2,1,"mat-slide-toggle",5)),2&t){var n=U.vc(2);U.mc("ngClass",U.qc(10,V,e.isNew)),U.Db(1),U.mc("disabled",e.disabled),U.Db(2),U.mc("ngForOf",U.jc(4,7,e.numberList,e.showInactive.value&&!e.isNew)),U.Db(2),U.mc("matChipInputFor",n)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",e.addOnBlur),U.Db(1),U.mc("ngIf",!e.isNew)}},directives:[S.c,F.k,K.c,F.l,K.b,F.m,K.a,x.a,K.d,H.a,c.n,c.f],pipes:[q],styles:[".number-list[_ngcontent-%COMP%]{width:80%}.show-all-numbers[_ngcontent-%COMP%]{width:20%;min-width:120px}"]}),t}();function $(t,e){1&t&&(U.Ub(0,"mat-icon",9),U.Ic(1,"cancel"),U.Tb())}function W(t,e){if(1&t){var n=U.Vb();U.Ub(0,"mat-chip",7),U.cc("removed",function(){U.xc(n);var t=e.index;return U.gc().remove(t)}),U.Ic(1),U.Gc(2,$,2,0,"mat-icon",8),U.Tb()}if(2&t){var i=e.$implicit,r=U.gc();U.mc("removable",!r.disabled)("selectable",!1),U.Db(1),U.Kc(" ",i.email," "),U.Db(1),U.mc("ngIf",!r.disabled)}}function X(t,e){1&t&&(U.Ub(0,"mat-error",10),U.Ic(1," Please enter a valid email address "),U.Tb())}function Q(t,e){if(1&t&&(U.Ub(0,"mat-slide-toggle",11),U.Ic(1,"Aj neakt\xedvne"),U.Tb()),2&t){var n=U.gc();U.mc("formControl",n.showInactive)}}var Z=function(t){return{"full-width":t}},tt=function(){function t(){this.disabled=!0,this.emailList=[],this.showInactive=new c.e(!1),this.values=new c.e("",c.t.email),this.visible=!0,this.addOnBlur=!0,this.separatorKeysCodes=[B.g,B.c]}return t.prototype.add=function(t){if(!this.values.errors){var e=t.input,n=t.value;(n||"").trim()&&this.emailList.push(new w(n.trim())),e&&(e.value="")}},t.prototype.remove=function(t){t>=0&&this.emailList.splice(t,1)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=U.Ib({type:t,selectors:[["app-email"]],inputs:{disabled:"disabled",emailList:"emailList",isNew:"isNew"},decls:8,vars:14,consts:[[1,"email-list",3,"ngClass"],[3,"disabled"],["chipList",""],["class","person-email",3,"removable","selectable","removed",4,"ngFor","ngForOf"],["label","Email","placeholder","Emaily:",3,"matChipInputAddOnBlur","matChipInputFor","formControl","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["class","email-error-message",4,"ngIf"],["class","show-all-emails",3,"formControl",4,"ngIf"],[1,"person-email",3,"removable","selectable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[1,"email-error-message"],[1,"show-all-emails",3,"formControl"]],template:function(t,e){if(1&t&&(U.Ub(0,"mat-form-field",0),U.Ub(1,"mat-chip-list",1,2),U.Gc(3,W,3,4,"mat-chip",3),U.hc(4,"activePipe"),U.Ub(5,"input",4),U.cc("matChipInputTokenEnd",function(t){return e.add(t)}),U.Tb(),U.Gc(6,X,2,0,"mat-error",5),U.Tb(),U.Tb(),U.Gc(7,Q,2,1,"mat-slide-toggle",6)),2&t){var n=U.vc(2);U.mc("ngClass",U.qc(12,Z,e.isNew)),U.Db(1),U.mc("disabled",e.disabled),U.Db(2),U.mc("ngForOf",U.jc(4,9,e.emailList,e.showInactive.value&&!e.isNew)),U.Db(2),U.mc("matChipInputAddOnBlur",e.addOnBlur)("matChipInputFor",n)("formControl",e.values)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes),U.Db(1),U.mc("ngIf",e.values.hasError("email")),U.Db(1),U.mc("ngIf",!e.isNew)}},directives:[S.c,F.k,K.c,F.l,K.b,c.c,c.n,c.f,F.m,K.a,x.a,K.d,S.b,H.a],pipes:[q],styles:[".email-list[_ngcontent-%COMP%]{width:80%}.show-all-emails[_ngcontent-%COMP%]{width:20%;min-width:120px}"]}),t}(),et=n("FKr1"),nt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function it(t,e){1&t&&U.Pb(0,"mat-spinner")}function rt(t,e){1&t&&(U.Ub(0,"mat-error"),U.Ic(1," Name is "),U.Ub(2,"strong"),U.Ic(3,"required"),U.Tb(),U.Tb())}function at(t,e){1&t&&(U.Ub(0,"mat-error"),U.Ic(1," Surname is "),U.Ub(2,"strong"),U.Ic(3,"required"),U.Tb(),U.Tb())}function ot(t,e){if(1&t&&(U.Ub(0,"mat-option",25),U.Ic(1),U.Tb()),2&t){var n=e.$implicit;U.mc("value",n),U.Db(1),U.Kc(" ",n," ")}}function ct(t,e){if(1&t){var n=U.Vb();U.Ub(0,"form",5),U.Ub(1,"div",6),U.Ub(2,"div"),U.Ub(3,"mat-form-field",7),U.Pb(4,"input",8),U.Gc(5,rt,4,0,"mat-error",1),U.Tb(),U.Tb(),U.Ub(6,"div"),U.Ub(7,"mat-form-field",7),U.Pb(8,"input",9),U.Gc(9,at,4,0,"mat-error",1),U.Tb(),U.Tb(),U.Ub(10,"div"),U.Ub(11,"mat-form-field",7),U.Pb(12,"input",10),U.Tb(),U.Tb(),U.Tb(),U.Ub(13,"div",6),U.Ub(14,"div"),U.Ub(15,"mat-form-field",7),U.Pb(16,"input",11),U.Tb(),U.Tb(),U.Ub(17,"div"),U.Ic(18," Pohlavie: "),U.Ub(19,"mat-button-toggle-group",12),U.Ub(20,"mat-button-toggle",13),U.Ic(21,"Mu\u017e"),U.Tb(),U.Ub(22,"mat-button-toggle",14),U.Ic(23,"\u017dena"),U.Tb(),U.Tb(),U.Tb(),U.Tb(),U.Ub(24,"div",15),U.Ub(25,"div"),U.Ub(26,"mat-form-field",7),U.Pb(27,"input",16),U.Ub(28,"mat-autocomplete",null,17),U.Gc(30,ot,2,2,"mat-option",18),U.hc(31,"async"),U.Tb(),U.Tb(),U.Tb(),U.Ub(32,"div"),U.Ub(33,"mat-form-field",7),U.Pb(34,"input",19),U.Tb(),U.Tb(),U.Ub(35,"div"),U.Ub(36,"mat-form-field",7),U.Pb(37,"input",20),U.Tb(),U.Tb(),U.Ub(38,"div"),U.Ub(39,"mat-form-field",7),U.Pb(40,"input",21),U.Tb(),U.Tb(),U.Ub(41,"div"),U.Ub(42,"button",22),U.cc("click",function(){return U.xc(n),U.gc().showMap()}),U.Ub(43,"mat-icon"),U.Ic(44,"map"),U.Tb(),U.Tb(),U.Tb(),U.Tb(),U.Pb(45,"app-numbers",23),U.Pb(46,"app-email",24),U.Tb()}if(2&t){var i=U.vc(29),r=U.gc();U.mc("formGroup",r.detailForm),U.Db(5),U.mc("ngIf",r.detailForm.get("name").hasError("required")),U.Db(4),U.mc("ngIf",r.detailForm.get("surName").hasError("required")),U.Db(18),U.mc("matAutocomplete",i),U.Db(3),U.mc("ngForOf",U.ic(31,11,r.filteredCountries)),U.Db(15),U.mc("disabled",r.detailForm.disabled)("numberList",r.selectedDetail.numbers)("isNew",r.isNew),U.Db(1),U.mc("disabled",r.detailForm.disabled)("emailList",r.selectedDetail.emails)("isNew",r.isNew)}}function st(t,e){if(1&t){var n=U.Vb();U.Ub(0,"button",26),U.cc("click",function(){return U.xc(n),U.gc().save()}),U.Ic(1," Ulo\u017ei\u0165 "),U.Tb()}if(2&t){var i=U.gc();U.mc("disabled",i.detailForm.invalid)}}function lt(t,e){if(1&t){var n=U.Vb();U.Ub(0,"button",26),U.cc("click",function(){return U.xc(n),U.gc().edit()}),U.Ic(1," Upravi\u0165 "),U.Tb()}if(2&t){var i=U.gc();U.mc("disabled",i.detailForm.invalid)}}var ut=function(t){function e(e,n,i,r,a,o,c,s){var l=t.call(this,c,e,n,s,o,"persons")||this;return l.mapService=i,l.dialog=r,l.utilService=a,l.countries=[],l}return nt(e,t),e.prototype.ngOnInit=function(){var t=this;this.utilService.getCountries().subscribe(function(e){var n;(n=t.countries).push.apply(n,e),t.filteredCountries=t.detailForm.controls.address.controls.country.valueChanges.pipe(Object(s.a)(""),Object(l.a)(function(e){return t._filter(e)}))}),this.initialization()},e.prototype.save=function(){var t=this;(this.isNew?this.httpService.add:this.httpService.update).call(this.httpService,this.selectedDetail).subscribe(function(e){return t.setDetail(e)})},e.prototype.showMap=function(){this.dialog.open(m.a,{width:"95%",height:"95%",data:this.mapService.getLocationEmbedUrlFromAddress(this.detailForm.value.address)})},e.prototype.setDetail=function(t){this.selectedDetail=t,this.loading=!1,this.detailForm.patchValue(this.selectedDetail)},e.prototype._filter=function(t){var e=t.toLowerCase();return this.countries.filter(function(t){return t.toLowerCase().includes(e)})},e.prototype.createForm=function(){return this.formBuilder.group({name:["",{validators:c.t.required}],surName:["",{validators:c.t.required}],nick:"",birthday:["",{validators:c.t.pattern(/(\d|\?){2}\.(\d|\?){2}.(\d|\?){4}/)}],gender:["",{validators:c.t.required}],address:this.formBuilder.group({country:"",city:"",street:"",streetNumber:""})})},e.\u0275fac=function(t){return new(t||e)(U.Ob(o.a),U.Ob(o.h),U.Ob(b.a),U.Ob(P.b),U.Ob(d.a),U.Ob(p.a),U.Ob(c.d),U.Ob(D))},e.\u0275cmp=U.Ib({type:e,selectors:[["app-person-detail"]],features:[U.Ab],decls:8,vars:4,consts:[[2,"display","flex","justify-content","center"],[4,"ngIf"],["class","full-width","style","align-content: center",3,"formGroup",4,"ngIf"],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"click"],[1,"full-width",2,"align-content","center",3,"formGroup"],[1,"flex-row"],[1,"full-width"],["matInput","","formControlName","name","placeholder","Meno"],["matInput","","formControlName","surName","placeholder","Priezvisko"],["matInput","","formControlName","nick","placeholder","Prez\xedvka"],["matInput","","formControlName","birthday","placeholder","D\xe1tum narodenia"],["formControlName","gender","aria-label","Font Style"],["value","MALE"],["value","FEMALE"],["formGroupName","address",1,"flex-row"],["matInput","","type","text","placeholder","\u0160t\xe1t","formControlName","country",3,"matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","city","placeholder","Mesto"],["matInput","","formControlName","street","placeholder","Ulica"],["matInput","","formControlName","streetNumber","placeholder","\u010c\xedslo domu"],["mat-icon-button","","matTooltip","Show address on map",3,"click"],[3,"disabled","numberList","isNew"],[3,"disabled","emailList","isNew"],[3,"value"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&(U.Ub(0,"mat-card"),U.Ub(1,"div",0),U.Gc(2,it,1,0,"mat-spinner",1),U.Tb(),U.Gc(3,ct,47,13,"form",2),U.Gc(4,st,2,1,"button",3),U.Gc(5,lt,2,1,"button",3),U.Ub(6,"button",4),U.cc("click",function(){return e.back()}),U.Ic(7,"Nasp\xe4\u0165"),U.Tb(),U.Tb()),2&t&&(U.Db(2),U.mc("ngIf",e.loading),U.Db(1),U.mc("ngIf",e.selectedDetail),U.Db(1),U.mc("ngIf",!e.disabled),U.Db(1),U.mc("ngIf",e.disabled))},directives:[_.a,F.m,G.b,M.b,c.u,c.o,c.h,S.c,E.b,c.c,c.n,c.g,L.b,L.a,c.i,A.c,A.a,F.l,j.a,x.a,z,tt,S.b,et.m],pipes:[F.b],styles:[".flex-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.flex-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-right:1em}@media only screen and (max-width:408px){.flex-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-right:1em}"]}),e}(u.a),mt=n("cp0P"),bt=n("3S9H"),pt=n("STbY"),dt=n("TU8p");function ft(t,e){if(1&t&&(U.Ub(0,"button",6),U.Ub(1,"a",7),U.Ub(2,"span"),U.Ic(3),U.Tb(),U.Tb(),U.Tb()),2&t){var n=e.$implicit;U.mc("disabled",!n.active),U.Db(1),U.oc("href","mailto:",n.email,"",U.Ac),U.Db(2),U.Jc(n.email)}}function ht(t,e){if(1&t&&(U.Ub(0,"button",6),U.Ub(1,"a",7),U.Ub(2,"span"),U.Ic(3),U.Tb(),U.Tb(),U.Tb()),2&t){var n=e.$implicit;U.mc("disabled",!n.active),U.Db(1),U.oc("href","tel:",n.number,"",U.Ac),U.Db(2),U.Jc(n.number)}}function vt(t,e){if(1&t&&(U.Ub(0,"button",1),U.Ub(1,"mat-icon",2),U.Ic(2,"email"),U.Tb(),U.Tb(),U.Ub(3,"mat-menu",null,3),U.Gc(5,ft,4,3,"button",4),U.Tb(),U.Ub(6,"button",1),U.Ub(7,"mat-icon",2),U.Ic(8,"call"),U.Tb(),U.Tb(),U.Ub(9,"mat-menu",null,5),U.Gc(11,ht,4,3,"button",4),U.Tb()),2&t){var n=U.vc(4),i=U.vc(10),r=U.gc();U.mc("disabled",!r.person||!(null!=r.person.emails&&r.person.emails.length))("matMenuTriggerFor",n),U.Db(1),U.mc("matBadge",null==r.person.emails?null:r.person.emails.length),U.Db(4),U.mc("ngForOf",r.person.emails),U.Db(1),U.mc("disabled",!r.person||!(null!=r.person.numbers&&r.person.numbers.length))("matMenuTriggerFor",i),U.Db(1),U.mc("matBadge",null==r.person.numbers?null:r.person.numbers.length),U.Db(4),U.mc("ngForOf",r.person.numbers)}}var gt=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=U.Ib({type:t,selectors:[["app-person-list-row-cell-select"]],inputs:{person:"person"},decls:1,vars:1,consts:[[3,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"disabled","matMenuTriggerFor"],[3,"matBadge"],["menuEmails","matMenu"],["mat-menu-item","",3,"disabled",4,"ngFor","ngForOf"],["menuNumber","matMenu"],["mat-menu-item","",3,"disabled"],[3,"href"]],template:function(t,e){1&t&&U.Gc(0,vt,12,8,"ng-template",0),2&t&&U.mc("ngIf",e.person)},directives:[F.m,G.b,pt.d,x.a,dt.a,pt.a,F.l,pt.b],styles:[""]}),t}(),wt=n("c4N/");function yt(t,e){1&t&&U.Pb(0,"app-person-list-row-cell-select",7),2&t&&U.mc("person",e.row)}function It(t,e){if(1&t){var n=U.Vb();U.Ub(0,"button",8),U.cc("click",function(){U.xc(n);var t=e.row;return U.gc(2).showDetail(t.id)}),U.Ub(1,"mat-icon"),U.Ic(2,"chevron_right"),U.Tb(),U.Tb(),U.Ub(3,"button",9),U.cc("click",function(){U.xc(n);var t=e.row;return U.gc(2).remove(t)}),U.Ub(4,"mat-icon"),U.Ic(5,"delete"),U.Tb(),U.Tb()}}function Tt(t,e){1&t&&(U.Ic(0),U.hc(1,"date")),2&t&&U.Kc(" ",U.jc(1,1,e.row.birthday,"dd.MM.yyyy")," ")}var Ot=function(t,e,n){return{options:t,contacts:e,birthday:n}};function Ut(t,e){if(1&t&&U.Pb(0,"app-abstract-table",10),2&t){U.gc();var n=U.vc(4),i=U.vc(2),r=U.vc(6),a=U.gc();U.mc("tableConfig",a.personConfig)("templates",U.sc(3,Ot,n,i,r))("data",a.personData)}}function Ct(t,e){if(1&t){var n=U.Vb();U.Ub(0,"div",1),U.Gc(1,yt,1,1,"ng-template",null,2,U.Hc),U.Gc(3,It,6,0,"ng-template",null,3,U.Hc),U.Gc(5,Tt,2,4,"ng-template",null,4,U.Hc),U.Gc(7,Ut,1,7,"app-abstract-table",5),U.Ub(8,"button",6),U.cc("click",function(){return U.xc(n),U.gc().createNew()}),U.Ub(9,"mat-icon"),U.Ic(10,"add"),U.Tb(),U.Tb(),U.Tb()}if(2&t){var i=U.gc();U.Db(7),U.mc("ngIf",i.personData)}}var Nt=[{path:"",children:[{path:"",pathMatch:"full",component:function(){function t(t,e,n,i,r){this.route=t,this.router=e,this.authService=n,this.personHttpService=i,this.notificationService=r,this.Roles=bt.a,this.personData=this.personHttpService.getPersons()}return t.prototype.ngOnInit=function(){this.personConfig={stickyEnd:3,columns:[{name:"contacts"},{name:"name",customContent:function(t){return(t.name||"")+" "+(t.surName||"")}},{name:"nick",label:"Nick",sort:!0},{name:"birthday",label:"Birthday",sort:!0},{name:"account",label:"Account",visible:!1},{name:"options",width:"9em"}],selectOptions:[{action:console.log,icon:"delete",label:"Delete"}],stickyHeader:!0,selection:"multi",paginateOptions:[5,10,20,50,100],pageSize:10,paginator:!0}},t.prototype.remove=function(t){var e=this,n=t.map(function(t){return e.personHttpService.delete(t.id)});Object(mt.a)(n).subscribe(function(){e.notificationService.openSuccessNotification("Person successfully removed")},function(t){return e.notificationService.openErrorNotification(t)})},t.prototype.createNew=function(){this.router.navigateByUrl("/persons/new")},t.prototype.showDetail=function(t){this.router.navigateByUrl("/persons/"+t)},t.\u0275fac=function(e){return new(e||t)(U.Ob(o.a),U.Ob(o.h),U.Ob(O.a),U.Ob(D),U.Ob(p.a))},t.\u0275cmp=U.Ib({type:t,selectors:[["app-person-list"]],decls:2,vars:3,consts:[["class","person-wrapper",4,"ngIf"],[1,"person-wrapper"],["cellSelect",""],["cellOptions",""],["cellBirthday",""],[3,"tableConfig","templates","data",4,"ngIf"],["mat-fab","","matTooltip","Prida\u0165 osobu",1,"floating-add",3,"click"],[3,"person"],["color","primary","matTooltip","Zobrazi\u0165 detail","mat-icon-button","",3,"click"],["color","primary","matTooltip","Odstr\xe1ni\u0165","mat-icon-button","",3,"click"],[3,"tableConfig","templates","data"]],template:function(t,e){1&t&&(U.Gc(0,Ct,11,1,"div",0),U.hc(1,"async")),2&t&&U.mc("ngIf",U.ic(1,1,e.authService.user$))},directives:[F.m,G.b,j.a,x.a,gt,wt.a],pipes:[F.b,F.e],styles:[".person-wrapper[_ngcontent-%COMP%]{padding-bottom:10em}.person-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.person-wrapper[_ngcontent-%COMP%]   .floating-add[_ngcontent-%COMP%]{position:fixed;right:3em;bottom:3em}"]}),t}()},{path:":id",component:ut}]}],kt=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=U.Mb({type:t}),t.\u0275inj=U.Lb({imports:[[o.l.forChild(Nt)],o.l]}),t}(),Dt=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=U.Mb({type:t}),t.\u0275inj=U.Lb({providers:[D],imports:[[r.a,kt,a.a]]}),t}()}}]);