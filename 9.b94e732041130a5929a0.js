(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{qWfu:function(t,e,n){"use strict";n.r(e),n.d(e,"AccountsModule",function(){return U});var c=n("ofXK"),a=n("NA4g"),i=n("tyNb"),o=n("2Vo4"),r=n("itXk"),l=n("LRne"),m=n("JX91"),b=n("lJxs"),d=n("/uUt"),u=n("eIep"),s=n("CqXF"),f=n("SxV6"),p=n("3S9H"),h=n("IYfF"),g=n("9nlD"),C=n("fXoL"),O=n("+0xr"),v=n("bSwM");function w(t,e){1&t&&(C.Ub(0,"th",9),C.Ic(1," Name"),C.Tb())}function D(t,e){if(1&t&&(C.Ub(0,"td",10),C.Pb(1,"img",11),C.Ub(2,"span"),C.Ic(3),C.Tb(),C.Tb()),2&t){var n=e.$implicit;C.Db(1),C.mc("src",n.photoURL,C.Ac),C.Db(2),C.Jc(n.displayName)}}function y(t,e){1&t&&(C.Ub(0,"th",9),C.Ic(1," Email"),C.Tb())}function x(t,e){if(1&t&&(C.Ub(0,"td",10),C.Ic(1),C.Tb()),2&t){var n=e.$implicit;C.Db(1),C.Kc(" ",n.email," ")}}function M(t,e){if(1&t&&(C.Ub(0,"th",9),C.Ic(1),C.Tb()),2&t){var n=C.gc().$implicit;C.Db(1),C.Kc(" ",n.replace("ROLE_","")," ")}}function P(t,e){if(1&t){var n=C.Vb();C.Ub(0,"td",10),C.Ub(1,"mat-checkbox",13),C.cc("change",function(t){C.xc(n);var c=e.$implicit,a=C.gc().$implicit;return C.gc().changeRole(a,c,t)}),C.hc(2,"async"),C.Tb(),C.Tb()}if(2&t){var c=e.$implicit,a=C.gc().$implicit,i=C.gc();C.Db(1),C.mc("checked",c.roles[a])("disabled",!C.ic(2,2,i.canUpdate$))}}function S(t,e){1&t&&(C.Sb(0,12),C.Gc(1,M,2,1,"th",3),C.Gc(2,P,3,4,"td",4),C.Rb()),2&t&&C.nc("matColumnDef",e.$implicit)}function _(t,e){1&t&&C.Pb(0,"tr",14)}function k(t,e){1&t&&C.Pb(0,"tr",15)}var R=[{path:"",children:[{path:"",pathMatch:"full",component:function(){function t(t,e){var n=this;this.authService=t,this.notificationService=e,this.roles=Object.values(p.a),this.displayedColumns=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var c=Array(t),a=0;for(e=0;e<n;e++)for(var i=arguments[e],o=0,r=i.length;o<r;o++,a++)c[a]=i[o];return c}(["displayName","email"],this.roles),this.accounts$=this.authService.getAccounts().pipe(Object(m.a)([])),this.user$=this.authService.user$,this.loading$=new o.a(!1),this.canUpdate$=Object(r.a)([this.user$,this.loading$]).pipe(Object(b.a)(function(t){var e=t[0];return!t[1]&&e&&n.authService.checkAuthorization(e,p.a.ROLE_UPDATE_ACCOUNTS)}),Object(d.a)())}return t.prototype.trackByFn=function(t,e){return e},t.prototype.changeRole=function(t,e,n){var c=this;this.user$.pipe(Object(u.a)(function(a){return a&&c.authService.checkAuthorization(a,p.a.ROLE_UPDATE_ACCOUNTS)?(c.loading$.next(!0),c.authService.updateRole(t,e,n.checked).pipe(Object(s.a)(!0))):Object(l.a)(!1)}),Object(f.a)()).subscribe({next:function(t){t?c.notificationService.openSuccessNotification("Role updated"):c.notificationService.openInfoNotification("Role cannot be updated")},error:function(t){return c.notificationService.openErrorNotification(t)},complete:function(){return c.loading$.next(!1)}})},t.\u0275fac=function(e){return new(e||t)(C.Ob(h.a),C.Ob(g.a))},t.\u0275cmp=C.Ib({type:t,selectors:[["app-account-list"]],decls:12,vars:8,consts:[[1,"example-container","mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","displayName","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],[3,"matColumnDef",4,"ngFor","ngForOf","ngForTrackBy"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["alt","",1,"example-header-image",3,"src"],[3,"matColumnDef"],[3,"checked","disabled","change"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(C.Ub(0,"div",0),C.Ub(1,"table",1),C.hc(2,"async"),C.Sb(3,2),C.Gc(4,w,2,0,"th",3),C.Gc(5,D,4,2,"td",4),C.Rb(),C.Sb(6,5),C.Gc(7,y,2,0,"th",3),C.Gc(8,x,2,1,"td",4),C.Rb(),C.Gc(9,S,3,1,"ng-container",6),C.Gc(10,_,1,0,"tr",7),C.Gc(11,k,1,0,"tr",8),C.Tb(),C.Tb()),2&t&&(C.Db(1),C.mc("dataSource",C.ic(2,6,e.accounts$)),C.Db(8),C.mc("ngForOf",e.roles)("ngForTrackBy",e.trackByFn),C.Db(1),C.mc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),C.Db(1),C.mc("matRowDefColumns",e.displayedColumns))},directives:[O.j,O.c,O.e,O.b,c.l,O.g,O.i,O.d,O.a,v.a,O.f,O.h],pipes:[c.b],styles:["table[_ngcontent-%COMP%]{width:100%}.example-header-image[_ngcontent-%COMP%]{background-size:cover;width:40px;height:40px;display:inline-block;border-radius:50%}.example-container[_ngcontent-%COMP%]{width:100%;overflow:auto}@media screen and (max-width:960px){.mat-table22[_ngcontent-%COMP%]{border:0;vertical-align:middle}.mat-table22[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.mat-table22[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{border:10px solid;clip:rect(0 0 0 0);height:1px;margin:-1px;padding:0;position:absolute;width:1px}.mat-table22[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{border-bottom:5px solid #ddd;display:block}.mat-table22[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;display:block;font-size:1em;text-align:right;font-weight:700;height:30px;margin-bottom:4%}.mat-table22[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;text-transform:uppercase;font-weight:400;font-size:.85em}.mat-table22[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{border-bottom:0}.mat-table22[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}}"],changeDetection:0}),t}()}]}],$=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=C.Mb({type:t}),t.\u0275inj=C.Lb({imports:[[i.k.forChild(R)],i.k]}),t}(),U=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=C.Mb({type:t}),t.\u0275inj=C.Lb({imports:[[a.a,$,c.c]]}),t}()}}]);