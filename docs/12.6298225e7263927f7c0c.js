(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ORKo:function(t,e,n){"use strict";n.r(e);var i=n("TYT/"),c=n("krJt"),o=n("PCNd"),r=n("6blF"),a=n("T1DM"),s=n("/21U");function l(t){var e=t.subscriber,n=t.counter,i=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var u=function(){function t(){}return t.prototype.previous=function(){},t.prototype.next=function(){},t.prototype.minimalize=function(){},t.prototype.fullscreen=function(){},t.prototype.play=function(t){if(!this._actualPreview){if(!t)throw new Error("Nieje možné vytvoriť pesničku bez URL");this._actualPreview=new Audio(t)}return t&&this._actualPreview.currentSrc!==t&&(this._actualPreview.src=t),this._actualPreview.play()},t.prototype.pause=function(){this._actualPreview&&this._actualPreview.pause()},t.prototype.stop=function(){this._actualPreview&&this._actualPreview.pause(),this._actualPreview=null},t.prototype.getDuration=function(){return Number(this._actualPreview&&this._actualPreview.duration)},t.prototype.getCurrentTime=function(){return Number(this._actualPreview&&this._actualPreview.currentTime)},t.prototype.setCurrentTime=function(t){this._actualPreview&&(this._actualPreview.currentTime=t)},t}(),p=function(){function t(){}return t.prototype.previous=function(){},t.prototype.next=function(){},t.prototype.minimalize=function(){},t.prototype.fullscreen=function(){},t.prototype.play=function(t){return Promise.resolve()},t.prototype.pause=function(){},t.prototype.stop=function(){},t.prototype.getDuration=function(){return 0},t.prototype.getCurrentTime=function(){return 0},t.prototype.setCurrentTime=function(t){},t}(),f=n("2mMm"),d=n("utYi"),b=n("Valr"),g=function(){function t(){}return t.prototype.transform=function(t){console.log("value: ",t);var e=Math.floor(t),n=e%60,i=Math.floor(e/60);return String(i).padStart(2,"0")+":"+String(n).padStart(2,"0")},t.ngPipeDef=i.Wb({name:"duration",type:t,factory:function(e){return new(e||t)},pure:!0}),t}(),y=[1,"footer"],h=[1,"controls"],m=["aria-label","Example icon-button with a heart icon","color","primary","mat-icon-button","",3,"disabled","click"],v=["aria-label","Example icon-button with a heart icon","color","primary","mat-icon-button","",3,"disabled","click",4,"ngIf"],w=["aria-label","Example icon-button with a heart icon","color","primary","mat-icon-button","",3,"click"],x=[1,"slider-container"],k=[1,"slider"],P=["label","Song slider","step","0.1","type","range",3,"max","value","change"],_=["d",""],C=[1,"time-holder"],S=[1,"actTime"],M=[1,"duration"],O=["class","title",4,"ngIf"];function U(t,e){if(1&t){var n=i.fc();i.ec(0,"button",m),i.kc("click",(function(t){return i.Fc(n),i.pc().play()})),i.ec(1,"mat-icon"),i.Uc(2,"play_arrow"),i.cc(),i.cc()}if(2&t){var c=i.pc();i.vc("disabled",!c.selectedSong)}}function D(t,e){if(1&t){var n=i.fc();i.ec(0,"button",m),i.kc("click",(function(t){return i.Fc(n),i.pc().pause()})),i.ec(1,"mat-icon"),i.Uc(2,"pause"),i.cc(),i.cc()}if(2&t){var c=i.pc();i.vc("disabled",!c.selectedSong)}}var j=[1,"title"];function J(t,e){if(1&t&&(i.ec(0,"div",j),i.Uc(1),i.cc()),2&t){var n=i.pc();i.Jc(1),i.Xc(" ",n.selectedSong.artists," - ",n.selectedSong.title," ")}}var T=function(){function t(){this.duration=0,this.elapsedValue=0,this.state="stop",this.previewPlayer=new u,this.youtubePlayer=new p}return t.prototype.ngOnInit=function(){},t.prototype.playFrom=function(t){this.player.setCurrentTime(Number(t)),this.elapsedValue=this.player.getCurrentTime(),this.player.play()},t.prototype.play=function(t){var e=this;if(t)return this.selectedSong=t,this.player=this.previewPlayer,this.youtubePlayer.stop(),void this.previewPlayer.play(t.preview).then((function(){e.duration=e.previewPlayer.getDuration(),e._startPlaying()}));this.player.play().then((function(){return e._startPlaying()}))},t.prototype.pause=function(){this.player.pause(),this.state="pause"},t.prototype.stop=function(){this.selectedSong=null,this.duration=0,this.elapsedValue=0,this.player.stop(),this.state="stop"},t.prototype.isPlaying=function(t){return t?this.selectedSong===t&&this.isPlaying():"play"===this.state},t.prototype.isPaused=function(t){return t?this.selectedSong===t&&this.isPaused():"pause"===this.state},t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype._startPlaying=function(){var t,e,n=this;this.state="play",this.duration=this.player.getDuration(),this.subscription&&this.subscription.unsubscribe(),this.subscription=(t=100,void 0===t&&(t=0),void 0===e&&(e=a.a),(!Object(s.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=a.a),new r.a((function(n){return n.add(e.schedule(l,t,{subscriber:n,counter:0,period:t})),n}))).subscribe((function(){n.elapsedValue=n.player.getCurrentTime()}))},t.ngComponentDef=i.Rb({type:t,selectors:[["songs-nav-bar"]],factory:function(e){return new(e||t)},consts:32,vars:15,template:function(t,e){if(1&t){var n=i.fc();i.ec(0,"div",y),i.Qc(),i.ec(1,"div",h),i.ec(2,"button",m),i.kc("click",(function(t){return e.player.previous()})),i.ec(3,"mat-icon"),i.Uc(4,"skip_previous"),i.cc(),i.cc(),i.Sc(5,U,3,1,"button",v),i.Sc(6,D,3,1,"button",v),i.ec(7,"button",m),i.kc("click",(function(t){return e.stop()})),i.ec(8,"mat-icon"),i.Uc(9,"stop"),i.cc(),i.cc(),i.ec(10,"button",m),i.kc("click",(function(t){return e.player.next()})),i.ec(11,"mat-icon"),i.Uc(12,"skip_next"),i.cc(),i.cc(),i.ec(13,"button",w),i.kc("click",(function(t){return e.player.minimalize()})),i.ec(14,"mat-icon"),i.Uc(15,"minimize"),i.cc(),i.cc(),i.ec(16,"button",w),i.kc("click",(function(t){return e.player.fullscreen()})),i.ec(17,"mat-icon"),i.Uc(18,"fullscreen"),i.cc(),i.cc(),i.cc(),i.ec(19,"div",x),i.ec(20,"span",k),i.ec(21,"input",P,_),i.kc("change",(function(t){i.Fc(n);var c=i.Dc(22);return e.playFrom(c.value)})),i.cc(),i.cc(),i.ec(23,"div",C),i.ec(24,"span",S),i.Uc(25),i.qc(26,"duration"),i.cc(),i.Uc(27," / "),i.ec(28,"span",M),i.Uc(29),i.qc(30,"duration"),i.cc(),i.cc(),i.cc(),i.Sc(31,J,2,2,"div",O),i.cc()}2&t&&(i.Nb("is-playing",e.isPlaying||e.isPaused),i.Rc(),i.Jc(2),i.vc("disabled",!e.selectedSong),i.Jc(5),i.vc("ngIf",!e.isPlaying()),i.Jc(6),i.vc("ngIf",e.isPlaying()),i.Jc(7),i.vc("disabled",!e.selectedSong),i.Jc(10),i.vc("disabled",!e.selectedSong),i.Jc(21),i.wc("max",e.duration),i.wc("value",e.elapsedValue),i.Jc(25),i.Vc(i.rc(26,11,e.elapsedValue)),i.Jc(29),i.Vc(i.rc(30,13,e.duration)),i.Jc(31),i.vc("ngIf",e.selectedSong))},directives:[f.b,d.a,b.t],pipes:[g],styles:[".footer[_ngcontent-%COMP%]{position:fixed;width:100%;min-height:60px;background-color:#e6fdfd;-webkit-transition:.5s;transition:all .5s;bottom:-60px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.footer.is-playing[_ngcontent-%COMP%]{bottom:0}.footer[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:0 1em;min-width:320px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.footer[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{margin-right:1em;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.footer[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.footer[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:0 1em;-ms-flex-preferred-size:250px;flex-basis:250px;text-align:center}"]}),t}(),V=[1,"controller-wrapper"],I=[1,"time"],F=[1,"controlls"],z=["mat-icon-button","",3,"click"],E=[1,"pause","material-icons"],N=[1,"play","material-icons"],W=function(){function t(){this.audio=new Audio,this.time=0}return Object.defineProperty(t.prototype,"url",{set:function(t){this.audio.src=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.pause=function(){this.audio.pause(),this.audio.ontimeupdate=null},t.prototype.play=function(){var t=this;this.audio.play(),this.audio.ontimeupdate=function(){return t.time=t.audio.currentTime}},t.ngComponentDef=i.Rb({type:t,selectors:[["app-song-controller"]],factory:function(e){return new(e||t)},inputs:{url:"url"},consts:12,vars:1,template:function(t,e){1&t&&(i.ec(0,"p"),i.Uc(1,"song-controller works!"),i.cc(),i.ec(2,"div",V),i.ec(3,"div",I),i.Uc(4),i.cc(),i.ec(5,"div",F),i.ec(6,"button",z),i.kc("click",(function(t){return e.pause()})),i.ec(7,"i",E),i.Uc(8," pause_circle_filled "),i.cc(),i.cc(),i.ec(9,"button",z),i.kc("click",(function(t){return e.play()})),i.ec(10,"i",N),i.Uc(11," play_arrow "),i.cc(),i.cc(),i.cc(),i.cc()),2&t&&(i.Jc(4),i.Wc(" ",e.time+"/"+e.audio.duration," "))},directives:[f.b],styles:[".controller-wrapper[_ngcontent-%COMP%]{background:red;width:100%;max-height:50px;min-height:25px}"]}),t}(),Y=n("mrSG"),R=n("9Z1F"),B=n("aR35"),Q=n("o0vB"),A=n("IYfF"),X=n("9nlD"),q=n("cUzu"),G=B.a.BASE_URL+"/songs",L=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}return Object(Y.__extends)(e,t),e.prototype.getSongs=function(){return this.http.get(G+"/list").pipe(Object(R.a)(this.handleError("getSongs")))},e.ngInjectableDef=i.Tb({token:e,factory:function(t){return new(t||e)(i.ic(q.c),i.ic(A.a),i.ic(X.a))},providedIn:null}),e}(Q.a),H=["id","sideBar"],Z=[3,"data","tableConfig","templates"],K=["columnPreview",""],$=["columnVideo",""],tt=["navBar",""],et=["color","primary","mat-raised-button","",3,"disabled","click"];function nt(t,e){if(1&t){var n=i.fc();i.ec(0,"button",et),i.kc("click",(function(t){i.Fc(n);var c=e.row;i.pc();var o=i.Dc(7);return o.isPlaying(c)?o.pause():o.play(c)})),i.Uc(1),i.cc()}if(2&t){var c=e.row;i.pc();var o=i.Dc(7);i.vc("disabled",!c.preview),i.Jc(1),i.Vc(o.isPlaying(c)?"Pause":"Play")}}var it=["color","primary","mat-raised-button","",3,"disabled"];function ct(t,e){1&t&&(i.ec(0,"button",it),i.Uc(1,"Youtube "),i.cc()),2&t&&i.vc("disabled",!e.row.preview)}var ot=function(t,e){return{preview:t,video:e}},rt=function(){function t(t){this.songsService=t,this.songsConfig={columns:[{name:"artists",label:"Autory"},{name:"title",label:"Názov"},{name:"duration",label:"Dĺžka"},{name:"popularity",label:"Popularita"},{name:"preview",label:"Ukážka"},{name:"video",label:"Video"}],stickyHeader:!0,selection:"multi",paginateOptions:[5,10,20,50,100],pageSize:10,paginator:!0}}return t.prototype.ngOnInit=function(){},t.ngComponentDef=i.Rb({type:t,selectors:[["app-songs"]],factory:function(e){return new(e||t)(i.Xb(L))},consts:8,vars:6,template:function(t,e){if(1&t&&(i.Yb(0,"div",H),i.Yb(1,"app-abstract-table",Z),i.Sc(2,nt,2,2,"ng-template",null,K,i.Tc),i.Sc(4,ct,2,1,"ng-template",null,$,i.Tc),i.Yb(6,"songs-nav-bar",null,tt)),2&t){var n=i.Dc(3),c=i.Dc(5);i.Jc(1),i.vc("data",e.songsService.getSongs())("tableConfig",e.songsConfig)("templates",i.zc(3,ot,n,c))}},styles:["#modal[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.1)}#modalContent[_ngcontent-%COMP%]{position:fixed;top:100px;left:100px;bottom:100px;right:100px}#modalContent[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:100%;width:100%}#sideBar[_ngcontent-%COMP%]{position:fixed;width:400px;height:600px;top:60px;left:-400px;-webkit-transition:1s;transition:1s all;background-color:#ffebcd}#sideBar.visible[_ngcontent-%COMP%]{left:0}"]}),t}(),at=n("DUip"),st=[{path:"",children:[{path:"",pathMatch:"full",component:rt}]}],lt=function(){function t(){}return t.ngModuleDef=i.Vb({type:t}),t.ngInjectorDef=i.Ub({factory:function(e){return new(e||t)},imports:[[at.l.forChild(st)],at.l]}),t}();at.l.forChild(st);var ut=n("QJY3"),pt=n("pENn"),ft=n("jjfr"),dt=n("j+lW"),bt=n("uxoL"),gt=n("YfVx"),yt=n("UG3F"),ht=n("p6iS"),mt=n("lugW"),vt=n("QrbZ"),wt=n("oXGx"),xt=n("y1ed"),kt=n("M+/Y"),Pt=n("lAl6"),_t=n("JkJP"),Ct=n("t35G"),St=n("P11e"),Mt=n("XjUc"),Ot=n("WSej"),Ut=n("S8bm"),Dt=n("XmVM"),jt=n("rta0"),Jt=n("QRlV"),Tt=n("xtoW"),Vt=n("CgSc"),It=n("n1jX"),Ft=n("qQk/"),zt=n("0+Fs"),Et=n("Qo+n"),Nt=n("uXrp"),Wt=n("L7w6"),Yt=n("UOk0"),Rt=n("n5Hh"),Bt=n("lZIM"),Qt=n("Lt58"),At=n("FgbW"),Xt=n("o8Qb"),qt=n("aNQE"),Gt=n("qWDx"),Lt=n("miTN"),Ht=n("j2Vq"),Zt=n("c4N/"),Kt=n("FhLW"),$t=n("GlzI"),te=n("Eg0e"),ee=n("8BE2"),ne=n("pd6a"),ie=n("sDCv"),ce=n("Ut/T"),oe=n("vyaW");n.d(e,"SongsModule",(function(){return re}));var re=function(){function t(){}return t.ngModuleDef=i.Vb({type:t}),t.ngInjectorDef=i.Ub({factory:function(e){return new(e||t)},providers:[L],imports:[[c.a,o.a,lt]]}),t}();i.Kc(rt,[rt,T,W,ut.I,ut.x,ut.H,ut.c,ut.y,ut.B,ut.a,ut.E,ut.F,ut.A,ut.r,ut.s,ut.D,ut.n,ut.m,ut.z,ut.b,ut.d,ut.v,ut.w,ut.t,ut.u,ut.h,ut.j,ut.i,ut.k,ut.e,pt.a,Ut.o,Ut.n,pt.d,pt.c,Rt.b,ft.a,dt.c,f.b,f.a,bt.b,bt.a,gt.a,gt.f,gt.n,gt.d,gt.m,gt.l,gt.b,gt.e,gt.k,gt.i,gt.h,gt.g,gt.o,gt.c,yt.a,yt.c,ht.d,ht.a,ht.c,ht.e,ht.b,ht.f,mt.a,mt.b,mt.d,mt.e,mt.f,mt.h,mt.i,mt.j,mt.l,mt.k,mt.c,vt.e,vt.d,vt.i,vt.f,vt.c,Bt.a,wt.a,wt.c,wt.d,wt.g,wt.h,wt.f,wt.e,xt.b,xt.d,xt.g,Ut.k,xt.f,xt.e,xt.a,d.a,Qt.b,Qt.c,At.a,At.b,At.e,At.f,At.g,At.h,At.i,kt.b,kt.d,Pt.a,Pt.h,Pt.d,Pt.b,Pt.c,Pt.g,Ut.r,Pt.i,Pt.f,_t.e,_t.b,_t.d,_t.a,Ct.a,St.a,Mt.a,Mt.c,Ot.b,Ot.a,Ut.t,Dt.a,Dt.c,jt.a,jt.b,jt.c,jt.d,jt.e,jt.f,Jt.a,Tt.c,Tt.a,Vt.c,It.a,It.b,Ft.a,Ft.j,Ft.b,Ft.d,Ft.e,Ft.h,Ft.i,Ft.c,Ft.f,zt.n,zt.i,zt.k,zt.c,zt.b,zt.m,zt.e,zt.g,zt.h,zt.a,zt.d,zt.j,zt.l,zt.f,zt.p,Et.c,Et.d,Et.a,Et.f,Et.e,Et.b,Nt.a,Nt.c,Wt.a,Wt.c,Yt.a,Yt.e,Yt.g,Yt.h,Yt.b,Yt.d,Yt.f,b.q,b.r,b.s,b.t,b.A,b.w,b.x,b.y,b.z,b.u,b.v,Xt.a,qt.a,Gt.a,Lt.a,Ht.a,Zt.a,Kt.a,$t.a,te.a,ee.a,ne.a,ie.a,at.m,at.i,at.k,at.j,at.r],[g,b.b,b.G,b.p,b.k,b.E,b.g,b.C,b.F,b.d,b.f,b.i,b.j,b.l,Xt.d,ce.a,oe.b,oe.c])}}]);