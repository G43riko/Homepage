(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"ja7+":function(e,t,n){"use strict";n.r(t);var o=n("Valr"),i=n("TYT/"),r=n("QJY3"),a=n("NA4g"),c=n("PCNd"),s=n("DUip"),l=n("mrSG"),p=function(){function e(){this.red=new Array(255),this.green=new Array(255),this.blue=new Array(255),this.alpha=new Array(255);for(var e=0;e<256;e++)this.red[e]=0,this.green[e]=0,this.blue[e]=0,this.alpha[e]=0}return Object.defineProperty(e.prototype,"average",{get:function(){for(var e=new Array(255),t=0;t<256;t++)e[t]=(this.red[t]+this.green[t]+this.blue[t])/3;return e},enumerable:!0,configurable:!0}),e}();function d(e,t,n,o,i){void 0===i&&(i="#FFFFFF");var r=document.createElement("canvas");r.width=t,r.height=n;var a=Math.max.apply(Math,e),c=r.getContext("2d");c.fillStyle=i,c.fillRect(0,0,t,n),c.fillStyle=o;for(var s=n/a,l=t/255,p=0;p<t;p++){var d=e[p]*s;c.fillRect(p*l,n-d,l,d)}return r}var u=function(){function e(){}return e.prototype.generateImageHistogram=function(e,t,n,o){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var r=i.getContext("2d");r.drawImage(e,0,0);for(var a=r.getImageData(0,0,e.width,e.height).data,c=new p,s=0;s<a.length;)c.red[a[s++]]++,c.green[a[s++]]++,c.blue[a[s++]]++,c.alpha[a[s++]]++;switch(o){case"red":return d(c.red,t,n,"red");case"green":return d(c.green,t,n,"green");case"blue":return d(c.blue,t,n,"blue");case"alpha":return d(c.alpha,t,n,"gray");default:return d(c.average,t,n,"black")}},e.prototype.generateAudioHistogram=function(e,t,n,o){var i,r;return void 0===o&&(o=70),function(e,t,n,o,i){void 0===i&&(i="#FFFFFF");var r=document.createElement("canvas");r.width=t,r.height=n;var a=Math.max.apply(Math,e),c=r.getContext("2d");c.fillStyle=i,c.fillRect(0,0,t,n),c.imageSmoothingEnabled=!1,c.fillStyle="#000000";for(var s=n/a,l=t/e.length,p=0;p<t;p++){var d=e[p]*s;c.fillRect(p*l+1,n-d,l-2,d)}return console.log("data: ",e),r}((i=function(e){for(var t=e.getChannelData(0),n=Math.floor(t.length/o),i=[],r=0;r<o;r++){for(var a=n*r,c=0,s=0;s<n;s++)c+=Math.abs(t[a+s]);i.push(c/n)}return i}(e),r=Math.pow(Math.max.apply(Math,i),-1),i.map((function(e){return e*r}))),t,n)},e.ngInjectableDef=i.Tb({token:e,factory:function(t){return new(t||e)},providedIn:"root"}),e}(),f=function(){function e(e){this.histogramGeneratorService=e}return e.prototype.processAudio=function(e){var t=this,n=[],o=new FileReader,i=document.createElement("audio");i.src=URL.createObjectURL(e),i.style.width="100%",i.controls=!0;var r=[i];return new Promise((function(a,c){i.onloadeddata=function(){o.onload=function(){return Object(l.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(l.__generator)(this,(function(c){switch(c.label){case 0:return[4,(new AudioContext).decodeAudioData(o.result)];case 1:return e=c.sent(),(t=this.histogramGeneratorService.generateAudioHistogram(e,window.innerWidth,200,200)).style.maxWidth="100%",t.style.height="calc(100% - 62px)",r.push(t),n.push({key:"Audio data",type:"divider"}),n.push({key:"Channels",value:e.numberOfChannels}),n.push({key:"Sample rate",value:e.sampleRate}),n.push({key:"Duration",value:i.duration+" s"}),n.push({key:"Text tracks",value:i.textTracks&&i.textTracks.length||0}),n.push({key:"Audio tracks",value:i.audioTracks&&i.audioTracks.length||0}),a({infos:n,previewContent:r}),[2]}}))}))},o.readAsArrayBuffer(e)}}))},e.ngInjectableDef=i.Tb({token:e,factory:function(t){return new(t||e)(i.ic(u))},providedIn:"root"}),e}(),h=function(){function e(e){this.histogramGeneratorService=e}return e.prototype.getExifData=function(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(l.__generator)(this,(function(o){return[2,new Promise((function(o,i){return Object(l.__awaiter)(t,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.e(15).then(n.t.bind(null,"b0Xh",7))];case 1:return(t=r.sent()).getData(e,(function(){var e=t.getAllTags(this),n=function(e){return{key:e[0],value:e[1]}},i=Object.entries(e).filter((function(e){return"thumbnail"!==e[0]})).map(n),r=e.thumbnail;r&&(i.push({type:"divider"}),i.push.apply(i,Object.entries(r).filter((function(e){return"blob"!==e[0]})).map(n))),o(i)}))||i([]),[2]}}))}))}))]}))}))},e.prototype.processImage=function(e){var t=this,n=[],o=[],i=document.createElement("img");return new Promise((function(r,a){i.onload=function(){return Object(l.__awaiter)(t,void 0,void 0,(function(){var e,t,a=this;return Object(l.__generator)(this,(function(s){switch(s.label){case 0:return n.push({key:"Image data",type:"divider"}),n.push({key:"Width",value:i.naturalWidth+" px"}),n.push({key:"Height",value:i.naturalHeight+" px"}),[4,this.getExifData(i)];case 1:return(e=s.sent())&&n.push.apply(n,e),(t=function(e){var t=a.histogramGeneratorService.generateImageHistogram(i,400,100,e);t.style.maxWidth="100%",t.style.border="3px solid black",o.push(t)})("red"),t("green"),t("blue"),t("avg"),r({infos:n,histograms:o,previewContent:[c]}),[2]}}))}))};var c=document.createElement("div");c.className="image-wrapper",c.append(i),i.src=URL.createObjectURL(e)}))},e.prototype.processSvg=function(e){var t=new FileReader;return new Promise((function(n,o){t.onload=function(){var e=document.createElement("div");e.innerHTML=t.result,e.style.stroke="black",e.style.fill="blue",n({previewContent:[e]})},t.readAsText(e)}))},e.ngInjectableDef=i.Tb({token:e,factory:function(t){return new(t||e)(i.ic(u))},providedIn:"root"}),e}(),g=function(e,t){var n=t.prefix,o=t.suffix,i=void 0===o?"":o,r=t.flags,a=void 0===r?"g":r;return new RegExp((void 0===n?"":n)+"("+e.join("|")+")"+i,a)},m={docker:[{match:g(["FROM","WORKDIR","COPY","RUN","ENV","USER","EXPOSE","CMD"],{prefix:"^",flags:"gmi"}),color:"#ff0000"},{match:/\d+\.\d+\.\d+/g,color:"#0000ff"},{match:/^#.*$/gm,mapFunction:function(e){return'<span class="comment">'+e+"</span>"}}],markdown:[{match:/[<>]/gm,mapFunction:function(e){switch(e){case"<":return"&lt";case">":return"&gt";default:return e}}},{match:/^\s*#{1}\s(.*$)/gm,mapFunction:function(e,t){return"<h1>"+t+"</h1>"}},{match:/^\s*#{2}\s(.*$)/gim,mapFunction:function(e,t){return"<h2>"+t+"</h2>"}},{match:/^\s*#{3}\s(.*$)/gim,mapFunction:function(e,t){return"<h3>"+t+"</h3>"}},{match:/^\s*#{4}\s(.*$)/gim,mapFunction:function(e,t){return"<h4>"+t+"</h4>"}},{match:/^\s*#{5}\s(.*$)/gim,mapFunction:function(e,t){return"<h5>"+t+"</h5>"}},{match:/^\s*#{6}\s(.*$)/gim,mapFunction:function(e,t){return"<h6>"+t+"</h6>"}},{match:/`{3}((.|\n|\r)*?)`{3}/gm,mapFunction:function(e,t){return"<pre>"+t+"</pre>"}},{match:/`{1}(.*?)`{1}/gm,mapFunction:function(e,t){return"<pre>"+t+"</pre>"}},{match:/[*_]{2}(.+)[*_]{2}/gm,mapFunction:function(e,t){return"<strong>"+t+"</strong>"}},{match:/[*_](.+)[*_]/gm,mapFunction:function(e,t){return"<em>"+t+"</em>"}},{match:/\s*-\s+\[ ]\s+/gm,mapFunction:function(){return'<br><input type="checkbox" disabled>'}},{match:/\s*-\s+\[x]\s+/gim,mapFunction:function(){return'<br><input type="checkbox" checked disabled>'}},{match:/~~(.+)~~/gm,mapFunction:function(e,t){return"<del>"+t+"</del>"}},{match:/!?\[(.+)]\(.+\)/gm,mapFunction:function(e,t,n){return'<a href="'+n+'">'+t+"</a>"}}],ignore:[{match:/^#.*$/gm,mapFunction:function(e){return'<span class="comment">'+e+"</span>"}}],sql:[{match:/--.*$/gm,mapFunction:function(e){return'<span class="comment">'+e+"</span>"}},{match:g(["SELECT","FROM","WHERE","JOIN","ORDER","BY","DISTINCT","GROUP","LEFT","RIGHT","INNER","OUTER","ON","AS","\\|\\|","&&","="],{prefix:"\\s",suffix:"\\s",flags:"gmi"}),color:"#ff0000"}],properties:[{match:/^((\w|\\ |)*)\s*=/gm,mapFunction:function(e,t){return'<span style="color: #ff0000">'+t+"</span> ="}},{match:/^((\w|\\ |)*)\s*:/gm,mapFunction:function(e,t){return'<span style="color: #ff0000">'+t+"</span> :"}},{match:/^[#!].*$/gm,mapFunction:function(e){return'<span class="comment">'+e+"</span>"}}]},v=function(){function e(){}return e.prototype.highlight=function(e,t){return function(e,t){var n=e;return t.keywords.forEach((function(e){n=n.replace(e.match,"function"==typeof e.mapFunction?e.mapFunction:function(t){return'<span style="color: '+e.color+'">'+t+"</span>"})})),n}(e,{keywords:m[t]})},e.ngInjectableDef=i.Tb({token:e,factory:function(t){return new(t||e)},providedIn:"root"}),e}(),b=function(){function e(e){this.textHighlightService=e}return e.prototype.processRaw=function(e){var t=new FileReader;return new Promise((function(n,o){t.onload=function(){return n({previewContent:t.result})},t.readAsText(e)}))},e.prototype.processHighlightedText=function(e,t){var n=this,o=new FileReader;return new Promise((function(i,r){o.onload=function(){var e=n.textHighlightService.highlight(o.result,t).replace(/(\r\n|\n|\r)/gm,(function(){return"<br/>"}));i({previewContent:e})},o.readAsText(e)}))},e.prototype.processJSON=function(e){var t=new FileReader;return new Promise((function(n,o){t.onload=function(){var e=document.createElement("pre");e.innerText=JSON.stringify(JSON.parse(t.result),null,4),e.style.padding="1rem",n({previewContent:[e]})},t.readAsText(e)}))},e.prototype.processHTML=function(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(n){return t=new FileReader,[2,new Promise((function(n,o){t.onload=function(){var e=document.createElement("div");e.style.padding="1rem",e.attachShadow({mode:"open"}).innerHTML=t.result,n({previewContent:[e]})},t.readAsText(e)}))]}))}))},e.prototype.processPDF=function(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t;return Object(l.__generator)(this,(function(n){return(t=document.createElement("object")).data=URL.createObjectURL(e),t.style.width="100%",t.style.height="100%",[2,{previewContent:[t]}]}))}))},e.ngInjectableDef=i.Tb({token:e,factory:function(t){return new(t||e)(i.ic(v))},providedIn:"root"}),e}(),x=function(){function e(){}return e.prototype.processVideo=function(e){var t=[];return new Promise((function(n,o){var i=document.createElement("video");i.src=URL.createObjectURL(e),i.style.width="100%",i.style.height="100%",i.controls=!0,i.onloadeddata=function(){t.push({key:"Video data",type:"divider"}),t.push({key:"Width",value:i.videoWidth+" px"}),t.push({key:"Height",value:i.videoHeight+" px"}),t.push({key:"Duration",value:i.duration+" s"}),t.push({key:"Text tracks",value:i.textTracks&&i.textTracks.length||0}),t.push({key:"Video tracks",value:i.videoTracks&&i.videoTracks.length||0}),t.push({key:"Audio tracks",value:i.audioTracks&&i.audioTracks.length||0}),n({infos:t,previewContent:[i]})}}))},e.ngInjectableDef=i.Tb({token:e,factory:function(t){return new(t||e)},providedIn:"root"}),e}(),w=["previewBody"],y=["histograms"],k=[1,"analyzer-button",3,"click"],P=[1,"content"],C=["previewBody",""],O=[4,"ngFor","ngForOf"],_=[1,"histograms"],M=["histograms",""],F=[3,"ngSwitch"],R=[4,"ngSwitchCase"],E=[4,"ngSwitchDefault"];function D(e,t){if(1&e&&(i.bc(0),i.Yb(1,"hr"),i.ec(2,"h4"),i.Uc(3),i.cc(),i.ac()),2&e){var n=i.pc().$implicit;i.Jc(3),i.Vc(n.key)}}function S(e,t){if(1&e&&(i.bc(0),i.ec(1,"span"),i.Uc(2),i.cc(),i.Uc(3,": "),i.ec(4,"strong"),i.Uc(5),i.cc(),i.ac()),2&e){var n=i.pc().$implicit;i.Jc(2),i.Vc(n.key),i.Jc(5),i.Vc(n.value)}}function T(e,t){if(1&e&&(i.ec(0,"div"),i.bc(1,F),i.Sc(2,D,4,1,"ng-container",R),i.Sc(3,S,6,2,"ng-container",E),i.ac(),i.cc()),2&e){var n=t.$implicit;i.Jc(1),i.vc("ngSwitch",n.type),i.Jc(2),i.vc("ngSwitchCase","divider")}}var A=function(){function e(e,t,n,o){this.audioProcessorService=e,this.textProcessorService=t,this.videoProcessorService=n,this.imageProcessorService=o,this.reset=new i.t,this.infos=[]}return e.prototype.resetPreview=function(){this.reset.next(),this.previewBody.nativeElement.innerHTML="",this.histograms.nativeElement.innerHTML="",this.infos.splice(0,this.infos.length),delete this.uploadedFile,delete this.response},e.prototype.processServerResponse=function(e,t){var n;this.response=e,this.uploadedFile=t,(n=this.infos).push.apply(n,function(e){var t=[];return t.push({key:"Size",value:e.size+" bytes"}),t.push({key:"MimeType",value:e.extensionByMimeType}),t.push({key:"Encoding",value:e.encoding}),t.push({key:"Preview type",value:e.previewType}),t}(this.response)),this.showPreview(this.response.previewType,this.uploadedFile)},e.prototype.showFileProcessResult=function(e){return Object(l.__awaiter)(this,void 0,void 0,(function(){var t,n,o,i;return Object(l.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return"string"==typeof(i=r.sent()).previewContent?(this.previewBody.nativeElement.style.padding="1rem",this.previewBody.nativeElement.innerHTML=i.previewContent):(t=this.previewBody.nativeElement).append.apply(t,i.previewContent),Array.isArray(i.infos)&&(n=this.infos).push.apply(n,i.infos),Array.isArray(i.histograms)&&(o=this.histograms.nativeElement).append.apply(o,i.histograms),[2]}}))}))},e.prototype.showPreview=function(e,t){var n=this,o=new FileReader;switch(e){case"image":this.showFileProcessResult(this.imageProcessorService.processImage(t));break;case"html":this.showFileProcessResult(this.textProcessorService.processHTML(t)).then((function(){n.showContentData(n.response.contentData)}));break;case"pdf":this.showFileProcessResult(this.textProcessorService.processPDF(t));break;case"svg":this.showFileProcessResult(this.imageProcessorService.processSvg(t)).then((function(){n.showContentData(n.response.contentData)}));break;case"audio":this.showFileProcessResult(this.audioProcessorService.processAudio(t));break;case"video":this.showFileProcessResult(this.videoProcessorService.processVideo(t));break;case"json":this.showFileProcessResult(this.textProcessorService.processJSON(t)).then((function(){n.showContentData(n.response.contentData,!0)}));break;case"formatted":o.onload=function(){n.previewBody.nativeElement.style.padding="1rem",n.previewBody.nativeElement.innerHTML="<pre>"+o.result+"</pre>",n.showContentData(n.response.contentData)},o.readAsText(t);break;case"highlight":this.showFileProcessResult(this.textProcessorService.processHighlightedText(t,this.response.highlight)).then((function(){n.showContentData(n.response.contentData,!0)}));break;default:this.showFileProcessResult(this.textProcessorService.processRaw(t))}},e.prototype.showContentData=function(e,t){void 0===t&&(t=!1),e&&(this.infos.push({key:"Content data",type:"divider"}),this.infos.push({key:"Rows",value:e.rows||0}),this.infos.push({key:"Empty rows",value:e.emptyRows||0}),t&&this.infos.push({key:"Comments",value:this.previewBody.nativeElement.querySelectorAll(".comment").length}))},e.ngComponentDef=i.Rb({type:e,selectors:[["app-file-analyzer-preview"]],factory:function(t){return new(t||e)(i.Xb(f),i.Xb(b),i.Xb(x),i.Xb(h))},viewQuery:function(e,t){var n;1&e&&(i.Nc(w,!0),i.Nc(y,!0)),2&e&&(i.Cc(n=i.mc())&&(t.previewBody=n.first),i.Cc(n=i.mc())&&(t.histograms=n.first))},outputs:{reset:"reset"},consts:13,vars:2,template:function(e,t){1&e&&(i.ec(0,"section"),i.ec(1,"header"),i.ec(2,"h3"),i.Uc(3),i.cc(),i.ec(4,"button",k),i.kc("click",(function(e){return t.resetPreview()})),i.Uc(5,"Back to upload"),i.cc(),i.cc(),i.ec(6,"main"),i.Yb(7,"div",P,C),i.ec(9,"aside"),i.Sc(10,T,4,2,"div",O),i.Yb(11,"div",_,M),i.cc(),i.cc(),i.cc()),2&e&&(i.Jc(3),i.Vc(null==t.response?null:t.response.originalName),i.Jc(10),i.vc("ngForOf",t.infos))},directives:[o.s,o.x,o.y,o.z],styles:["body[_ngcontent-%COMP%]{background:-webkit-gradient(linear,left bottom,left top,from(#4f6072),to(#8699aa));background:linear-gradient(to top,#4f6072,#8699aa);height:100vh;box-sizing:border-box;margin:0;padding:0}main[_ngcontent-%COMP%]{height:100%}.dialog[_ngcontent-%COMP%], section[_ngcontent-%COMP%]{overflow:hidden;border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,.2);max-height:calc(100vh - 4rem - 64px);max-width:calc(100vw - 4rem)}#filePreview[_ngcontent-%COMP%], #fileUpload[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;font-family:Roboto,sans-serif}section[_ngcontent-%COMP%]{min-width:min(calc(100vw - 4rem),1000px);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:calc(100vh - 4rem - 64px)}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:1rem;position:relative;color:#fff;background:#4db6ac;box-shadow:0 2px 5px rgba(0,0,0,.2);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{word-break:break-all}section[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden}section[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}section[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]{color:#fff;overflow-y:auto;padding:1rem;-ms-flex-preferred-size:200px;flex-basis:200px;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:250px;background:#4db6ac}@media only screen and (max-width:726px){section[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-y:auto}section[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:visible}section[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]{overflow-y:visible;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content;box-shadow:0 2px 5px rgba(0,0,0,.2)}}.analyzer-button[_ngcontent-%COMP%]{outline:0;left:0;right:0;bottom:20px;border:1px solid #fff;color:#fff;background:0 0;padding:8px 7px;font-size:12px;border-radius:4px;font-family:Roboto;line-height:1;cursor:pointer;-ms-flex-preferred-size:100px;flex-basis:100px}.analyzer-button[_ngcontent-%COMP%]:hover{background:#fff;color:#4db6ac}"]}),e}(),U=n("aR35"),j=["fileInput"],I=["dropArea"],L=["aria-hidden","true",1,"fa","fa-cloud-upload"],z=[1,"up"],H=[1,"load"],N=[1,"body"],J=["dropArea",""],B=["type","file",2,"display","none"],$=["fileInput",""],V=["data-progress","23",1,"loading"],Y=["aria-hidden","true",1,"fa","fa-file-text-o","pointer-none"],W=[1,"pointer-none"],G=["href","","id","triggerFile",3,"click"],Q=function(){function e(){this.fileUploaded=new i.t,this.response=new i.t,this.progress=-1}return e.prototype.ngOnInit=function(){this.initDragAndDrop(),this.initInputFile()},e.prototype.initDragAndDrop=function(){var e=this;this.dropArea.nativeElement.addEventListener("dragover",(function(e){e.preventDefault()})),this.dropArea.nativeElement.addEventListener("dragenter",(function(t){e.dropArea.nativeElement.classList.add("drag-over"),t.preventDefault()}));var t=function(){e.dropArea.nativeElement.classList.remove("drag-over")};this.dropArea.nativeElement.addEventListener("dragleave",t),this.dropArea.nativeElement.addEventListener("dragend",t),this.dropArea.nativeElement.addEventListener("drop",(function(t){if(e.dropArea.nativeElement.classList.remove("drag-over"),!(t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length))throw new Error("Cannot upload file from event: "+t);e.onFileUpload(t.dataTransfer.files[0]),t.preventDefault()}))},e.prototype.initInputFile=function(){var e=this;this.fileInput.nativeElement.addEventListener("change",(function(){if(!e.fileInput.nativeElement.files||!e.fileInput.nativeElement.files.length)throw new Error("Cannot read files using button");e.onFileUpload(e.fileInput.nativeElement.files[0])}))},e.prototype.showUpload=function(e){this.fileInput.nativeElement.click(),e.preventDefault()},e.prototype.onFileUpload=function(e){var t,n,o,i,r,a,c,s,l,p,d,u,f=this,h=new FormData;h.append("file",e),this.progress=0,o=void 0===(n=(t={content:h,method:"POST",url:U.a.BASE_URL+"/poc/analyze/file",onProgress:function(e){f.progress=e.loaded/e.total*100,console.log("Progress",f.progress),100===f.progress&&f.fileUploaded.next()},onResponse:function(t){f.progress=-1,f.response.next({file:e,response:JSON.parse(t)})}}).method)?"GET":n,i=t.url,a=void 0===(r=t.onResponse)?function(e){}:r,c=t.content,l=void 0===(s=t.headers)?{}:s,d=void 0===(p=t.onProgress)?function(){}:p,(u=new XMLHttpRequest).onreadystatechange=function(){console.log(u.readyState,u.status),4!==u.readyState||200!==u.status&&201!==u.status||a(u.responseText)},u.upload.onprogress=d,u.open(o,i,!0),Object.entries(l).forEach((function(e){return u.setRequestHeader(e[0],e[1])})),u.send(c)},e.ngComponentDef=i.Rb({type:e,selectors:[["app-file-analyzer-upload"]],factory:function(t){return new(t||e)},viewQuery:function(e,t){var n;1&e&&(i.Nc(j,!0),i.Nc(I,!0)),2&e&&(i.Cc(n=i.mc())&&(t.fileInput=n.first),i.Cc(n=i.mc())&&(t.dropArea=n.first))},outputs:{fileUploaded:"fileUploaded",response:"response"},consts:23,vars:1,template:function(e,t){1&e&&(i.ec(0,"section"),i.ec(1,"header"),i.ec(2,"p"),i.Yb(3,"i",L),i.ec(4,"span",z),i.Uc(5,"File"),i.cc(),i.ec(6,"span",H),i.Uc(7,"Analyzer"),i.cc(),i.cc(),i.cc(),i.ec(8,"div",N,J),i.Yb(10,"input",B,$),i.ec(12,"div",V),i.Qc(),i.cc(),i.Yb(13,"i",Y),i.ec(14,"p",W),i.ec(15,"strong"),i.Uc(16,"Drag and drop"),i.cc(),i.Uc(17," files here "),i.Yb(18,"br"),i.Uc(19," or "),i.ec(20,"a",G),i.kc("click",(function(e){return t.showUpload(e)})),i.Uc(21,"browse"),i.cc(),i.Uc(22," to begin the upload "),i.cc(),i.cc(),i.cc()),2&e&&(i.Jc(12),i.Pc("width",t.progress,"%"),i.Rc())},styles:["body[_ngcontent-%COMP%]{background:-webkit-gradient(linear,left bottom,left top,from(#4f6072),to(#8699aa));background:linear-gradient(to top,#4f6072,#8699aa);height:100vh;box-sizing:border-box;margin:0;padding:0}main[_ngcontent-%COMP%]{height:100%}.dialog[_ngcontent-%COMP%], section[_ngcontent-%COMP%]{overflow:hidden;border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,.2);max-height:calc(100vh - 4rem - 64px);max-width:calc(100vw - 4rem)}#filePreview[_ngcontent-%COMP%], #fileUpload[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;font-family:Roboto,sans-serif}section[_ngcontent-%COMP%]{min-width:min(calc(100vw - 4rem),600px)}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{padding:3rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#4db6ac;text-align:center}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:40px;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;-webkit-animation:.5s 1s both fadeup;animation:.5s 1s both fadeup}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .up[_ngcontent-%COMP%]{font-weight:700;display:inline-block;margin-right:.5rem;-webkit-animation:.5s 1.5s both faderight;animation:.5s 1.5s both faderight}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .load[_ngcontent-%COMP%]{display:inline-block;font-weight:100;margin-left:-8px;-webkit-animation:1s 1.5s both faderight;animation:1s 1.5s both faderight}section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding:1rem 3rem;background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative}section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:absolute;-webkit-transition:width .1s;transition:width .1s;top:0;height:2px;background:#000}section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:65px;color:#d3d3d3}section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding-top:15px;line-height:1.4}section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#4db6ac}section[_ngcontent-%COMP%]   .body.drag-over[_ngcontent-%COMP%]{border:2px dashed #4db6ac}section[_ngcontent-%COMP%]   .body.drag-over[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{box-shadow:0 0 0 -3px #fff,0 0 0 #d3d3d3,0 0 0 -3px #fff,0 0 0 #d3d3d3;-webkit-animation:.5s both file;animation:.5s both file}@-webkit-keyframes file{50%{box-shadow:-8px 8px 0 -3px #fff,-8px 8px 0 #d3d3d3,-8px 8px 0 -3px #fff,-8px 8px 0 #d3d3d3}100%,75%{box-shadow:-8px 8px 0 -3px #fff,-8px 8px 0 #d3d3d3,-16px 16px 0 -3px #fff,-16px 16px 0 #d3d3d3}}@keyframes file{50%{box-shadow:-8px 8px 0 -3px #fff,-8px 8px 0 #d3d3d3,-8px 8px 0 -3px #fff,-8px 8px 0 #d3d3d3}100%,75%{box-shadow:-8px 8px 0 -3px #fff,-8px 8px 0 #d3d3d3,-16px 16px 0 -3px #fff,-16px 16px 0 #d3d3d3}}section[_ngcontent-%COMP%]   .body.drag-over[_ngcontent-%COMP%]   .pointer-none[_ngcontent-%COMP%]{pointer-events:none}"]}),e}(),X=["id","fileUpload"],q=[3,"fileUploaded","response"],K=["id","filePreview"],Z=[3,"reset"],ee=["preview",""],te=[{path:"",children:[{path:"",component:function(){function e(){this.uploadDisplay="flex",this.previewDisplay="none"}return Object.defineProperty(e.prototype,"uploaded",{set:function(e){e?(this.uploadDisplay="none",this.previewDisplay="flex"):(this.uploadDisplay="flex",this.previewDisplay="none")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.ngComponentDef=i.Rb({type:e,selectors:[["app-file-analyzer"]],factory:function(t){return new(t||e)},viewQuery:function(e,t){var n;1&e&&i.Nc(A,!0),2&e&&i.Cc(n=i.mc())&&(t.fileAnalyzerPreview=n.first)},consts:6,vars:2,template:function(e,t){if(1&e){var n=i.fc();i.ec(0,"main"),i.ec(1,"article",X),i.Qc(),i.ec(2,"app-file-analyzer-upload",q),i.kc("fileUploaded",(function(e){return t.uploaded=!0})),i.kc("response",(function(e){i.Fc(n);var o=i.Dc(5);return t.uploaded=!0,o.processServerResponse(e.response,e.file)})),i.cc(),i.cc(),i.ec(3,"article",K),i.Qc(),i.ec(4,"app-file-analyzer-preview",Z,ee),i.kc("reset",(function(e){return t.uploaded=!1})),i.cc(),i.cc(),i.cc()}2&e&&(i.Jc(1),i.Pc("display",t.uploadDisplay),i.Rc(),i.Jc(3),i.Pc("display",t.previewDisplay),i.Rc())},directives:[Q,A],styles:["body[_ngcontent-%COMP%]{background:-webkit-gradient(linear,left bottom,left top,from(#4f6072),to(#8699aa));background:linear-gradient(to top,#4f6072,#8699aa);height:100vh;box-sizing:border-box;margin:0;padding:0}main[_ngcontent-%COMP%]{height:100%}.dialog[_ngcontent-%COMP%]{overflow:hidden;border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,.2);max-height:calc(100vh - 4rem - 64px);max-width:calc(100vw - 4rem)}#filePreview[_ngcontent-%COMP%], #fileUpload[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;font-family:Roboto,sans-serif}"]}),e}()}]}],ne=function(){function e(){}return e.ngModuleDef=i.Vb({type:e}),e.ngInjectorDef=i.Ub({factory:function(t){return new(t||e)},imports:[[s.l.forChild(te)],s.l]}),e}();s.l.forChild(te),n.d(t,"AnalyzerModule",(function(){return oe}));var oe=function(){function e(){}return e.ngModuleDef=i.Vb({type:e}),e.ngInjectorDef=i.Ub({factory:function(t){return new(t||e)},imports:[[c.a,a.a,ne,o.c,r.l,r.C]]}),e}()}}]);