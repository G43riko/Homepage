(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{WLQ1:function(e,t,n){"use strict";n.r(t),n.d(t,"PersonModule",function(){return De});var i,r=n("krJt"),a=n("PCNd"),o=n("tyNb"),c=n("3Pt+"),s=n("JX91"),l=n("lJxs"),u=n("O+os"),m=n("GlzI"),b=n("Y0mc"),p=n("9nlD"),d=n("kh7C"),f=n("JIr8"),h=n("M1lw"),v=function(){function e(e,t,n){void 0===n&&(n=""),this.type=e,this.link=n,this.userName=t}return e.getLink=function(e){return function(e){switch(e){case"FACEBOOK":return"https://www.facebook.com/";case"LINKEDIN":return"https://www.linkedin.com/in/";case"TWITTER":return"https://twitter.com/";case"INSTAGRAM":return"https://www.instagram.com/";case"GITHUB":return"https://github.com/";case"YOUTUBE":return"https://www.youtube.com/channel/";case"GOOGLEPLUS":return"https://plus.google.com/u/0/";case"SKYPE":return""}return""}(e.type)+(e.link||e.userName)},e.getIcon=function(t){var n=e.types.find(function(e){return e.value===t.type});return n?n.icon:""},e.parse=function(t){var n=new e(t.type,t.userName,t.link);return n.active=t.active,n.account_id=t.account_id,n},e.types=[{label:"Facebook",value:"FACEBOOK",icon:"facebook"},{label:"Google+",value:"GOOGLEPLUS",icon:"google plus"},{label:"Github",value:"GITHUB",icon:"github"},{label:"Instagram",value:"INSTAGRAM",icon:"instagram"},{label:"LinkedIn",value:"LINKEDIN",icon:"linkedin square"},{label:"Skype",value:"SKYPE",icon:"skype"},{label:"Twitter",value:"TWITTER",icon:"twitter"},{label:"Youtube",value:"YOUTUBE",icon:"youtube"},{label:"Bitbucket",value:"BITBUCKET",icon:"bitbucket"}],e}(),g=function(){function e(e,t,n,i){void 0===e&&(e="SK"),void 0===t&&(t=""),void 0===n&&(n=""),void 0===i&&(i=""),this.streetNumber=i,this.country=e,this.street=n,this.city=t}return e.parse=function(t){var n=new e;return t?(n.streetNumber=t.streetNumber,n.street=t.street,n.country=t.country,n.city=t.city,n):n},e.toModel=function(e){return{country:e.country||"",city:e.city||"",street:e.street||"",streetNumber:e.streetNumber||""}},e}(),w=function(){function e(e,t){void 0===e&&(e="@"),void 0===t&&(t=!0),this.email=e,this.active=t}return e.parse=function(t){if(!t)return null;var n=new e;return n.email_id=t.email_id,n.email=t.email,n.active=t.active,n},e}(),y=function(){function e(e,t){void 0===e&&(e=""),void 0===t&&(t=!0),this.number=e,this.active=t}return e.parse=function(t){if(!t)return null;var n=new e;return n.number_id=t.number_id,n.number=t.number,n.active=t.active,n},e}(),I=function(){function e(){this.emails=[new w],this.numbers=[new y],this.address=new g,this.accounts=[]}return e.parse=function(t){var n=new e;return t?(n.id=t.person_id||t.id,n.name=t.name,n.surName=t.surName,n.gender=t.gender,n.birthday=t.birthday,n.nick=t.nick,n.address=t.address?g.parse(t.address):new g,n.emails=Array.isArray(t.emails)?t.emails.map(w.parse):[],n.numbers=Array.isArray(t.numbers)?t.numbers.map(y.parse):[],n.accounts=Array.isArray(t.accounts)?t.accounts.map(v.parse):[],n):n},e.toModel=function(e){return{name:e.name||"",surName:e.surName||"",nick:e.nick||"",gender:e.gender||"",birthday:e.birthday||"",address:e.address?g.toModel(e.address):void 0}},e}(),T=n("o0vB"),O=n("IYfF"),U=n("fXoL"),C=n("tk/3"),N=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=h.a.BASE_URL+"/persons",D=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return N(t,e),t.prototype.getPersons=function(){return this.http.get(k).pipe(Object(f.a)(this.handleError("getPersons")))},t.prototype.getDetail=function(e){return this.http.get(k+"/"+e).pipe(Object(l.a)(I.parse),Object(f.a)(this.handleError("cannot get person with id "+e)))},t.prototype.update=function(e){return this.http.put(k+"/"+e.id,e,{headers:this.getHeaders()}).pipe(Object(l.a)(I.parse),Object(f.a)(this.handleError("update person with id"+e.id)))},t.prototype.delete=function(e){return this.http.delete(k+"/"+e).pipe(Object(f.a)(this.handleError("delete person with id"+e)))},t.prototype.add=function(e){return this.http.post(k,JSON.stringify(e),{headers:this.getHeaders()}).pipe(Object(l.a)(I.parse),Object(f.a)(this.handleError("add person")))},t.prototype.addAll=function(e){return this.http.post(k+"/all",JSON.stringify(e),{headers:this.getHeaders()}).pipe(Object(l.a)(function(e){return e.map(I.parse)}),Object(f.a)(this.handleError("addAll persons")))},t.\u0275fac=function(e){return new(e||t)(U.Yb(C.c),U.Yb(O.a),U.Yb(p.a))},t.\u0275prov=U.Kb({token:t,factory:t.\u0275fac}),t}(T.a),P=n("0IaG"),_=n("Wp6s"),F=n("ofXK"),G=n("bTqV"),M=n("Xa2L"),S=n("kmnG"),E=n("qFsG"),L=n("jaxi"),A=n("/1cH"),j=n("Qu3c"),x=n("NFeN"),B=n("FtGj"),K=n("A5z7"),H=n("1jcm"),q=function(){function e(){}return e.prototype.transform=function(e,t){return t?e.filter(function(e){return e.active}):e},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=U.Nb({name:"activePipe",type:e,pure:!0}),e}();function Y(e,t){1&e&&(U.Ub(0,"mat-icon",8),U.Ic(1,"cancel"),U.Tb())}function J(e,t){if(1&e){var n=U.Vb();U.Ub(0,"mat-chip",6),U.cc("removed",function(){U.xc(n);var e=t.index;return U.gc().remove(e)}),U.Ic(1),U.Gc(2,Y,2,0,"mat-icon",7),U.Tb()}if(2&e){var i=t.$implicit,r=U.gc();U.mc("removable",!r.disabled)("selectable",!1),U.Db(1),U.Kc(" ",i.number," "),U.Db(1),U.mc("ngIf",!r.disabled)}}function R(e,t){if(1&e&&(U.Ub(0,"mat-slide-toggle",9),U.Ic(1,"Aj neakt\xedvne"),U.Tb()),2&e){var n=U.gc();U.mc("formControl",n.showInactive)}}var V=function(e){return{"full-width":e}},z=function(){function e(){this.disabled=!0,this.numberList=[],this.showInactive=new c.e(!1),this.visible=!0,this.addOnBlur=!0,this.separatorKeysCodes=[B.g,B.c]}return e.prototype.add=function(e){var t=e.input,n=e.value;(n||"").trim()&&this.numberList.push(new y(n.trim())),t&&(t.value="")},e.prototype.remove=function(e){e>=0&&this.numberList.splice(e,1)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=U.Ib({type:e,selectors:[["app-numbers"]],inputs:{disabled:"disabled",numberList:"numberList",isNew:"isNew"},decls:7,vars:12,consts:[[1,"number-list",3,"ngClass"],[3,"disabled"],["chipList",""],[3,"removable","selectable","removed",4,"ngFor","ngForOf"],["label","Tel. number","placeholder","Tel \u010d\xedsla:",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["class","show-all-numbers",3,"formControl",4,"ngIf"],[3,"removable","selectable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[1,"show-all-numbers",3,"formControl"]],template:function(e,t){if(1&e&&(U.Ub(0,"mat-form-field",0),U.Ub(1,"mat-chip-list",1,2),U.Gc(3,J,3,4,"mat-chip",3),U.hc(4,"activePipe"),U.Ub(5,"input",4),U.cc("matChipInputTokenEnd",function(e){return t.add(e)}),U.Tb(),U.Tb(),U.Tb(),U.Gc(6,R,2,1,"mat-slide-toggle",5)),2&e){var n=U.vc(2);U.mc("ngClass",U.qc(10,V,t.isNew)),U.Db(1),U.mc("disabled",t.disabled),U.Db(2),U.mc("ngForOf",U.jc(4,7,t.numberList,t.showInactive.value&&!t.isNew)),U.Db(2),U.mc("matChipInputFor",n)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlur),U.Db(1),U.mc("ngIf",!t.isNew)}},directives:[S.c,F.k,K.c,F.l,K.b,F.m,K.a,x.a,K.d,H.a,c.n,c.f],pipes:[q],styles:[".number-list[_ngcontent-%COMP%]{width:80%}.show-all-numbers[_ngcontent-%COMP%]{width:20%;min-width:120px}"]}),e}();function $(e,t){1&e&&(U.Ub(0,"mat-icon",9),U.Ic(1,"cancel"),U.Tb())}function W(e,t){if(1&e){var n=U.Vb();U.Ub(0,"mat-chip",7),U.cc("removed",function(){U.xc(n);var e=t.index;return U.gc().remove(e)}),U.Ic(1),U.Gc(2,$,2,0,"mat-icon",8),U.Tb()}if(2&e){var i=t.$implicit,r=U.gc();U.mc("removable",!r.disabled)("selectable",!1),U.Db(1),U.Kc(" ",i.email," "),U.Db(1),U.mc("ngIf",!r.disabled)}}function X(e,t){1&e&&(U.Ub(0,"mat-error",10),U.Ic(1," Please enter a valid email address "),U.Tb())}function Q(e,t){if(1&e&&(U.Ub(0,"mat-slide-toggle",11),U.Ic(1,"Aj neakt\xedvne"),U.Tb()),2&e){var n=U.gc();U.mc("formControl",n.showInactive)}}var Z=function(e){return{"full-width":e}},ee=function(){function e(){this.disabled=!0,this.emailList=[],this.showInactive=new c.e(!1),this.values=new c.e("",c.t.email),this.visible=!0,this.addOnBlur=!0,this.separatorKeysCodes=[B.g,B.c]}return e.prototype.add=function(e){if(!this.values.errors){var t=e.input,n=e.value;(n||"").trim()&&this.emailList.push(new w(n.trim())),t&&(t.value="")}},e.prototype.remove=function(e){e>=0&&this.emailList.splice(e,1)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=U.Ib({type:e,selectors:[["app-email"]],inputs:{disabled:"disabled",emailList:"emailList",isNew:"isNew"},decls:8,vars:14,consts:[[1,"email-list",3,"ngClass"],[3,"disabled"],["chipList",""],["class","person-email",3,"removable","selectable","removed",4,"ngFor","ngForOf"],["label","Email","placeholder","Emaily:",3,"matChipInputAddOnBlur","matChipInputFor","formControl","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["class","email-error-message",4,"ngIf"],["class","show-all-emails",3,"formControl",4,"ngIf"],[1,"person-email",3,"removable","selectable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[1,"email-error-message"],[1,"show-all-emails",3,"formControl"]],template:function(e,t){if(1&e&&(U.Ub(0,"mat-form-field",0),U.Ub(1,"mat-chip-list",1,2),U.Gc(3,W,3,4,"mat-chip",3),U.hc(4,"activePipe"),U.Ub(5,"input",4),U.cc("matChipInputTokenEnd",function(e){return t.add(e)}),U.Tb(),U.Gc(6,X,2,0,"mat-error",5),U.Tb(),U.Tb(),U.Gc(7,Q,2,1,"mat-slide-toggle",6)),2&e){var n=U.vc(2);U.mc("ngClass",U.qc(12,Z,t.isNew)),U.Db(1),U.mc("disabled",t.disabled),U.Db(2),U.mc("ngForOf",U.jc(4,9,t.emailList,t.showInactive.value&&!t.isNew)),U.Db(2),U.mc("matChipInputAddOnBlur",t.addOnBlur)("matChipInputFor",n)("formControl",t.values)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),U.Db(1),U.mc("ngIf",t.values.hasError("email")),U.Db(1),U.mc("ngIf",!t.isNew)}},directives:[S.c,F.k,K.c,F.l,K.b,c.c,c.n,c.f,F.m,K.a,x.a,K.d,S.b,H.a],pipes:[q],styles:[".email-list[_ngcontent-%COMP%]{width:80%}.show-all-emails[_ngcontent-%COMP%]{width:20%;min-width:120px}"]}),e}(),te=n("FKr1"),ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function ie(e,t){1&e&&U.Pb(0,"mat-spinner")}function re(e,t){1&e&&(U.Ub(0,"mat-error"),U.Ic(1," Name is "),U.Ub(2,"strong"),U.Ic(3,"required"),U.Tb(),U.Tb())}function ae(e,t){1&e&&(U.Ub(0,"mat-error"),U.Ic(1," Surname is "),U.Ub(2,"strong"),U.Ic(3,"required"),U.Tb(),U.Tb())}function oe(e,t){if(1&e&&(U.Ub(0,"mat-option",25),U.Ic(1),U.Tb()),2&e){var n=t.$implicit;U.mc("value",n),U.Db(1),U.Kc(" ",n," ")}}function ce(e,t){if(1&e){var n=U.Vb();U.Ub(0,"form",5),U.Ub(1,"div",6),U.Ub(2,"div"),U.Ub(3,"mat-form-field",7),U.Pb(4,"input",8),U.Gc(5,re,4,0,"mat-error",1),U.Tb(),U.Tb(),U.Ub(6,"div"),U.Ub(7,"mat-form-field",7),U.Pb(8,"input",9),U.Gc(9,ae,4,0,"mat-error",1),U.Tb(),U.Tb(),U.Ub(10,"div"),U.Ub(11,"mat-form-field",7),U.Pb(12,"input",10),U.Tb(),U.Tb(),U.Tb(),U.Ub(13,"div",6),U.Ub(14,"div"),U.Ub(15,"mat-form-field",7),U.Pb(16,"input",11),U.Tb(),U.Tb(),U.Ub(17,"div"),U.Ic(18," Pohlavie: "),U.Ub(19,"mat-button-toggle-group",12),U.Ub(20,"mat-button-toggle",13),U.Ic(21,"Mu\u017e"),U.Tb(),U.Ub(22,"mat-button-toggle",14),U.Ic(23,"\u017dena"),U.Tb(),U.Tb(),U.Tb(),U.Tb(),U.Ub(24,"div",15),U.Ub(25,"div"),U.Ub(26,"mat-form-field",7),U.Pb(27,"input",16),U.Ub(28,"mat-autocomplete",null,17),U.Gc(30,oe,2,2,"mat-option",18),U.hc(31,"async"),U.Tb(),U.Tb(),U.Tb(),U.Ub(32,"div"),U.Ub(33,"mat-form-field",7),U.Pb(34,"input",19),U.Tb(),U.Tb(),U.Ub(35,"div"),U.Ub(36,"mat-form-field",7),U.Pb(37,"input",20),U.Tb(),U.Tb(),U.Ub(38,"div"),U.Ub(39,"mat-form-field",7),U.Pb(40,"input",21),U.Tb(),U.Tb(),U.Ub(41,"div"),U.Ub(42,"button",22),U.cc("click",function(){return U.xc(n),U.gc().showMap()}),U.Ub(43,"mat-icon"),U.Ic(44,"map"),U.Tb(),U.Tb(),U.Tb(),U.Tb(),U.Pb(45,"app-numbers",23),U.Pb(46,"app-email",24),U.Tb()}if(2&e){var i=U.vc(29),r=U.gc();U.mc("formGroup",r.detailForm),U.Db(5),U.mc("ngIf",r.detailForm.get("name").hasError("required")),U.Db(4),U.mc("ngIf",r.detailForm.get("surName").hasError("required")),U.Db(18),U.mc("matAutocomplete",i),U.Db(3),U.mc("ngForOf",U.ic(31,11,r.filteredCountries)),U.Db(15),U.mc("disabled",r.detailForm.disabled)("numberList",r.selectedDetail.numbers)("isNew",r.isNew),U.Db(1),U.mc("disabled",r.detailForm.disabled)("emailList",r.selectedDetail.emails)("isNew",r.isNew)}}function se(e,t){if(1&e){var n=U.Vb();U.Ub(0,"button",26),U.cc("click",function(){return U.xc(n),U.gc().save()}),U.Ic(1," Ulo\u017ei\u0165 "),U.Tb()}if(2&e){var i=U.gc();U.mc("disabled",i.detailForm.invalid)}}function le(e,t){if(1&e){var n=U.Vb();U.Ub(0,"button",26),U.cc("click",function(){return U.xc(n),U.gc().edit()}),U.Ic(1," Upravi\u0165 "),U.Tb()}if(2&e){var i=U.gc();U.mc("disabled",i.detailForm.invalid)}}var ue=function(e){function t(t,n,i,r,a,o,c,s){var l=e.call(this,c,t,n,s,o,"persons")||this;return l.mapService=i,l.dialog=r,l.utilService=a,l.countries=[],l}return ne(t,e),t.prototype.ngOnInit=function(){var e=this;this.utilService.getCountries().subscribe(function(t){var n;(n=e.countries).push.apply(n,t),e.filteredCountries=e.detailForm.controls.address.controls.country.valueChanges.pipe(Object(s.a)(""),Object(l.a)(function(t){return e._filter(t)}))}),this.initialization()},t.prototype.save=function(){var e=this;(this.isNew?this.httpService.add:this.httpService.update).call(this.httpService,this.selectedDetail).subscribe(function(t){return e.setDetail(t)})},t.prototype.showMap=function(){this.dialog.open(m.a,{width:"95%",height:"95%",data:this.mapService.getLocationEmbedUrlFromAddress(this.detailForm.value.address)})},t.prototype.setDetail=function(e){this.selectedDetail=e,this.loading=!1,this.detailForm.patchValue(this.selectedDetail)},t.prototype._filter=function(e){var t=e.toLowerCase();return this.countries.filter(function(e){return e.toLowerCase().includes(t)})},t.prototype.createForm=function(){return this.formBuilder.group({name:["",{validators:c.t.required}],surName:["",{validators:c.t.required}],nick:"",birthday:["",{validators:c.t.pattern(/(\d|\?){2}\.(\d|\?){2}.(\d|\?){4}/)}],gender:["",{validators:c.t.required}],address:this.formBuilder.group({country:"",city:"",street:"",streetNumber:""})})},t.\u0275fac=function(e){return new(e||t)(U.Ob(o.a),U.Ob(o.h),U.Ob(b.a),U.Ob(P.b),U.Ob(d.a),U.Ob(p.a),U.Ob(c.d),U.Ob(D))},t.\u0275cmp=U.Ib({type:t,selectors:[["app-person-detail"]],features:[U.Ab],decls:8,vars:4,consts:[[2,"display","flex","justify-content","center"],[4,"ngIf"],["class","full-width","style","align-content: center",3,"formGroup",4,"ngIf"],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"click"],[1,"full-width",2,"align-content","center",3,"formGroup"],[1,"flex-row"],[1,"full-width"],["matInput","","formControlName","name","placeholder","Meno"],["matInput","","formControlName","surName","placeholder","Priezvisko"],["matInput","","formControlName","nick","placeholder","Prez\xedvka"],["matInput","","formControlName","birthday","placeholder","D\xe1tum narodenia"],["formControlName","gender","aria-label","Font Style"],["value","MALE"],["value","FEMALE"],["formGroupName","address",1,"flex-row"],["matInput","","type","text","placeholder","\u0160t\xe1t","formControlName","country",3,"matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","city","placeholder","Mesto"],["matInput","","formControlName","street","placeholder","Ulica"],["matInput","","formControlName","streetNumber","placeholder","\u010c\xedslo domu"],["mat-icon-button","","matTooltip","Show address on map",3,"click"],[3,"disabled","numberList","isNew"],[3,"disabled","emailList","isNew"],[3,"value"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(e,t){1&e&&(U.Ub(0,"mat-card"),U.Ub(1,"div",0),U.Gc(2,ie,1,0,"mat-spinner",1),U.Tb(),U.Gc(3,ce,47,13,"form",2),U.Gc(4,se,2,1,"button",3),U.Gc(5,le,2,1,"button",3),U.Ub(6,"button",4),U.cc("click",function(){return t.back()}),U.Ic(7,"Nasp\xe4\u0165"),U.Tb(),U.Tb()),2&e&&(U.Db(2),U.mc("ngIf",t.loading),U.Db(1),U.mc("ngIf",t.selectedDetail),U.Db(1),U.mc("ngIf",!t.disabled),U.Db(1),U.mc("ngIf",t.disabled))},directives:[_.a,F.m,G.b,M.b,c.u,c.o,c.h,S.c,E.b,c.c,c.n,c.g,L.b,L.a,c.i,A.c,A.a,F.l,j.a,x.a,z,ee,S.b,te.m],pipes:[F.b],styles:[".flex-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.flex-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-right:1em}@media only screen and (max-width:408px){.flex-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-right:1em}"]}),t}(u.a),me=n("cp0P"),be=n("3S9H"),pe=n("STbY"),de=n("TU8p");function fe(e,t){if(1&e&&(U.Ub(0,"button",6),U.Ub(1,"a",7),U.Ub(2,"span"),U.Ic(3),U.Tb(),U.Tb(),U.Tb()),2&e){var n=t.$implicit;U.mc("disabled",!n.active),U.Db(1),U.oc("href","mailto:",n.email,"",U.Ac),U.Db(2),U.Jc(n.email)}}function he(e,t){if(1&e&&(U.Ub(0,"button",6),U.Ub(1,"a",7),U.Ub(2,"span"),U.Ic(3),U.Tb(),U.Tb(),U.Tb()),2&e){var n=t.$implicit;U.mc("disabled",!n.active),U.Db(1),U.oc("href","tel:",n.number,"",U.Ac),U.Db(2),U.Jc(n.number)}}function ve(e,t){if(1&e&&(U.Ub(0,"button",1),U.Ub(1,"mat-icon",2),U.Ic(2,"email"),U.Tb(),U.Tb(),U.Ub(3,"mat-menu",null,3),U.Gc(5,fe,4,3,"button",4),U.Tb(),U.Ub(6,"button",1),U.Ub(7,"mat-icon",2),U.Ic(8,"call"),U.Tb(),U.Tb(),U.Ub(9,"mat-menu",null,5),U.Gc(11,he,4,3,"button",4),U.Tb()),2&e){var n=U.vc(4),i=U.vc(10),r=U.gc();U.mc("disabled",!r.person||!(null!=r.person.emails&&r.person.emails.length))("matMenuTriggerFor",n),U.Db(1),U.mc("matBadge",null==r.person.emails?null:r.person.emails.length),U.Db(4),U.mc("ngForOf",r.person.emails),U.Db(1),U.mc("disabled",!r.person||!(null!=r.person.numbers&&r.person.numbers.length))("matMenuTriggerFor",i),U.Db(1),U.mc("matBadge",null==r.person.numbers?null:r.person.numbers.length),U.Db(4),U.mc("ngForOf",r.person.numbers)}}var ge=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=U.Ib({type:e,selectors:[["app-person-list-row-cell-select"]],inputs:{person:"person"},decls:1,vars:1,consts:[[3,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"disabled","matMenuTriggerFor"],[3,"matBadge"],["menuEmails","matMenu"],["mat-menu-item","",3,"disabled",4,"ngFor","ngForOf"],["menuNumber","matMenu"],["mat-menu-item","",3,"disabled"],[3,"href"]],template:function(e,t){1&e&&U.Gc(0,ve,12,8,"ng-template",0),2&e&&U.mc("ngIf",t.person)},directives:[F.m,G.b,pe.d,x.a,de.a,pe.a,F.l,pe.b],styles:[""]}),e}(),we=n("c4N/");function ye(e,t){1&e&&U.Pb(0,"app-person-list-row-cell-select",7),2&e&&U.mc("person",t.row)}function Ie(e,t){if(1&e){var n=U.Vb();U.Ub(0,"button",8),U.cc("click",function(){U.xc(n);var e=t.row;return U.gc(2).showDetail(e.id)}),U.Ub(1,"mat-icon"),U.Ic(2,"chevron_right"),U.Tb(),U.Tb(),U.Ub(3,"button",8),U.cc("click",function(){U.xc(n);var e=t.row;return U.gc(2).remove(e)}),U.Ub(4,"mat-icon"),U.Ic(5,"delete"),U.Tb(),U.Tb()}}function Te(e,t){1&e&&(U.Ic(0),U.hc(1,"date")),2&e&&U.Kc(" ",U.jc(1,1,t.row.birthday,"dd.MM.yyyy")," ")}var Oe=function(e,t,n){return{options:e,contacts:t,birthday:n}};function Ue(e,t){if(1&e&&U.Pb(0,"app-abstract-table",9),2&e){U.gc();var n=U.vc(4),i=U.vc(2),r=U.vc(6),a=U.gc();U.mc("tableConfig",a.personConfig)("templates",U.sc(3,Oe,n,i,r))("data",a.personData)}}function Ce(e,t){if(1&e){var n=U.Vb();U.Ub(0,"div",1),U.Gc(1,ye,1,1,"ng-template",null,2,U.Hc),U.Gc(3,Ie,6,0,"ng-template",null,3,U.Hc),U.Gc(5,Te,2,4,"ng-template",null,4,U.Hc),U.Gc(7,Ue,1,7,"app-abstract-table",5),U.Ub(8,"button",6),U.cc("click",function(){return U.xc(n),U.gc().createNew()}),U.Ub(9,"mat-icon"),U.Ic(10,"add"),U.Tb(),U.Tb(),U.Tb()}if(2&e){var i=U.gc();U.Db(7),U.mc("ngIf",i.personData)}}var Ne=[{path:"",children:[{path:"",pathMatch:"full",component:function(){function e(e,t,n,i,r){this.route=e,this.router=t,this.authService=n,this.personHttpService=i,this.notificationService=r,this.Roles=be.a,this.personData=this.personHttpService.getPersons()}return e.prototype.ngOnInit=function(){this.personConfig={stickyEnd:3,columns:[{name:"contacts"},{name:"name",customContent:function(e){return(e.name||"")+" "+(e.surName||"")}},{name:"nick",label:"Nick",sort:!0},{name:"birthday",label:"Birthday",sort:!0},{name:"account",label:"Account",visible:!1},{name:"options",width:"9em"}],selectOptions:[{action:console.log,icon:"delete",label:"Delete"}],stickyHeader:!0,selection:"multi",paginateOptions:[5,10,20,50,100],pageSize:10,paginator:!0}},e.prototype.remove=function(e){var t=this,n=e.map(function(e){return t.personHttpService.delete(e.id)});Object(me.a)(n).subscribe(function(){t.notificationService.openSuccessNotification("Person successfully removed")},function(e){return t.notificationService.openErrorNotification(e)})},e.prototype.createNew=function(){this.router.navigateByUrl("/persons/new")},e.prototype.showDetail=function(e){this.router.navigateByUrl("/persons/"+e)},e.\u0275fac=function(t){return new(t||e)(U.Ob(o.a),U.Ob(o.h),U.Ob(O.a),U.Ob(D),U.Ob(p.a))},e.\u0275cmp=U.Ib({type:e,selectors:[["app-person-list"]],decls:2,vars:3,consts:[["class","person-wrapper",4,"ngIf"],[1,"person-wrapper"],["cellSelect",""],["cellOptions",""],["cellBirthday",""],[3,"tableConfig","templates","data",4,"ngIf"],["mat-fab","",1,"floating-add",3,"click"],[3,"person"],["color","primary","mat-mini-fab","",3,"click"],[3,"tableConfig","templates","data"]],template:function(e,t){1&e&&(U.Gc(0,Ce,11,1,"div",0),U.hc(1,"async")),2&e&&U.mc("ngIf",U.ic(1,1,t.authService.user$))},directives:[F.m,G.b,x.a,ge,we.a],pipes:[F.b,F.e],styles:[".person-wrapper[_ngcontent-%COMP%]{padding-bottom:10em}.person-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.person-wrapper[_ngcontent-%COMP%]   .floating-add[_ngcontent-%COMP%]{position:fixed;right:3em;bottom:3em}"]}),e}()},{path:":id",component:ue}]}],ke=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=U.Mb({type:e}),e.\u0275inj=U.Lb({imports:[[o.l.forChild(Ne)],o.l]}),e}(),De=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=U.Mb({type:e}),e.\u0275inj=U.Lb({providers:[D],imports:[[r.a,ke,a.a]]}),e}()}}]);