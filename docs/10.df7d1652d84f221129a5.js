(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{WLQ1:function(e,t,n){"use strict";n.r(t);var c=n("TYT/"),i=n("krJt"),r=n("PCNd"),a=function(){function e(e,t,n){void 0===n&&(n=""),this.type=e,this.link=n,this.userName=t}return e.getLink=function(e){return function(e){switch(e){case"FACEBOOK":return"https://www.facebook.com/";case"LINKEDIN":return"https://www.linkedin.com/in/";case"TWITTER":return"https://twitter.com/";case"INSTAGRAM":return"https://www.instagram.com/";case"GITHUB":return"https://github.com/";case"YOUTUBE":return"https://www.youtube.com/channel/";case"GOOGLEPLUS":return"https://plus.google.com/u/0/";case"SKYPE":return""}return""}(e.type)+(e.link||e.userName)},e.getIcon=function(t){var n=e.types.find((function(e){return e.value===t.type}));return n?n.icon:""},e.parse=function(t){var n=new e(t.type,t.userName,t.link);return n.active=t.active,n.account_id=t.account_id,n},e.types=[{label:"Facebook",value:"FACEBOOK",icon:"facebook"},{label:"Google+",value:"GOOGLEPLUS",icon:"google plus"},{label:"Github",value:"GITHUB",icon:"github"},{label:"Instagram",value:"INSTAGRAM",icon:"instagram"},{label:"LinkedIn",value:"LINKEDIN",icon:"linkedin square"},{label:"Skype",value:"SKYPE",icon:"skype"},{label:"Twitter",value:"TWITTER",icon:"twitter"},{label:"Youtube",value:"YOUTUBE",icon:"youtube"},{label:"Bitbucket",value:"BITBUCKET",icon:"bitbucket"}],e}(),o=n("Valr"),s=n("FgbW"),l=n("M+/Y"),u=n("QJY3"),p=n("WlZ6"),d=function(){function e(e,t){void 0===e&&(e="@"),void 0===t&&(t=!0),this.email=e,this.active=t}return e.parse=function(t){if(!t)return null;var n=new e;return n.email_id=t.email_id,n.email=t.email,n.active=t.active,n},e}(),m=n("p6iS"),f=n("utYi"),b=n("xtoW"),v=n("Ut/T"),h=[1,"email-list",3,"ngClass"],g=[3,"disabled"],y=["chipList",""],w=["class","person-email",3,"removable","selectable","removed",4,"ngFor","ngForOf"],I=["label","Email","placeholder","Emaily:",3,"matChipInputAddOnBlur","matChipInputFor","formControl","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],C=["class","email-error-message",4,"ngIf"],O=["class","show-all-emails",3,"formControl",4,"ngIf"],k=[1,"person-email",3,"removable","selectable","removed"],N=["matChipRemove","",4,"ngIf"],S=["matChipRemove",""];function U(e,t){1&e&&(c.ec(0,"mat-icon",S),c.Uc(1,"cancel"),c.cc())}function E(e,t){if(1&e){var n=c.fc();c.ec(0,"mat-chip",k),c.kc("removed",(function(e){c.Fc(n);var i=t.index;return c.pc().remove(i)})),c.Uc(1),c.Sc(2,U,2,0,"mat-icon",N),c.cc()}if(2&e){var i=t.$implicit,r=c.pc();c.vc("removable",!r.disabled)("selectable",!1),c.Jc(1),c.Wc(" ",i.email," "),c.Jc(2),c.vc("ngIf",!r.disabled)}}var F=[1,"email-error-message"];function M(e,t){1&e&&(c.ec(0,"mat-error",F),c.Uc(1," Please enter a valid email address "),c.cc())}var _=[1,"show-all-emails",3,"formControl"];function J(e,t){if(1&e&&(c.ec(0,"mat-slide-toggle",_),c.Uc(1,"Aj neaktívne"),c.cc()),2&e){var n=c.pc();c.vc("formControl",n.showInactive)}}var P=function(e){return{"full-width":e}},D=function(){function e(){this.disabled=!0,this.emailList=[],this.showInactive=new u.g(!1),this.values=new u.g("",u.G.email),this.visible=!0,this.addOnBlur=!0,this.separatorKeysCodes=[p.g,p.c]}return e.prototype.ngOnInit=function(){},e.prototype.add=function(e){if(!this.values.errors){var t=e.input,n=e.value;(n||"").trim()&&this.emailList.push(new d(n.trim())),t&&(t.value="")}},e.prototype.remove=function(e){e>=0&&this.emailList.splice(e,1)},e.ngComponentDef=c.Rb({type:e,selectors:[["app-email"]],factory:function(t){return new(t||e)},inputs:{disabled:"disabled",emailList:"emailList",isNew:"isNew"},consts:8,vars:14,template:function(e,t){if(1&e&&(c.ec(0,"mat-form-field",h),c.ec(1,"mat-chip-list",g,y),c.Sc(3,E,3,4,"mat-chip",w),c.qc(4,"activePipe"),c.ec(5,"input",I),c.kc("matChipInputTokenEnd",(function(e){return t.add(e)})),c.cc(),c.Sc(6,M,2,0,"mat-error",C),c.cc(),c.cc(),c.Sc(7,J,2,1,"mat-slide-toggle",O)),2&e){var n=c.Dc(2);c.vc("ngClass",c.yc(12,P,t.isNew)),c.Jc(1),c.vc("disabled",t.disabled),c.Jc(3),c.vc("ngForOf",c.sc(4,9,t.emailList,t.showInactive.value&&!t.isNew)),c.Jc(5),c.vc("matChipInputAddOnBlur",t.addOnBlur)("matChipInputFor",n)("formControl",t.values)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes),c.Jc(6),c.vc("ngIf",t.values.hasError("email")),c.Jc(7),c.vc("ngIf",!t.isNew)}},directives:[s.b,o.q,m.d,o.s,m.c,u.c,u.r,u.h,o.t,m.a,f.a,m.e,s.a,b.a],pipes:[v.a],styles:[".email-list[_ngcontent-%COMP%]{width:80%}.show-all-emails[_ngcontent-%COMP%]{width:20%;min-width:120px}"]}),e}(),L=function(){function e(e,t){void 0===e&&(e=""),void 0===t&&(t=!0),this.number=e,this.active=t}return e.parse=function(t){if(!t)return null;var n=new e;return n.number_id=t.number_id,n.number=t.number,n.active=t.active,n},e}(),A=[1,"number-list",3,"ngClass"],T=[3,"disabled"],j=["chipList",""],B=[3,"removable","selectable","removed",4,"ngFor","ngForOf"],G=["label","Tel. number","placeholder","Tel čísla:",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],x=["class","show-all-numbers",3,"formControl",4,"ngIf"],Y=[3,"removable","selectable","removed"],K=["matChipRemove","",4,"ngIf"],R=["matChipRemove",""];function q(e,t){1&e&&(c.ec(0,"mat-icon",R),c.Uc(1,"cancel"),c.cc())}function X(e,t){if(1&e){var n=c.fc();c.ec(0,"mat-chip",Y),c.kc("removed",(function(e){c.Fc(n);var i=t.index;return c.pc().remove(i)})),c.Uc(1),c.Sc(2,q,2,0,"mat-icon",K),c.cc()}if(2&e){var i=t.$implicit,r=c.pc();c.vc("removable",!r.disabled)("selectable",!1),c.Jc(1),c.Wc(" ",i.number," "),c.Jc(2),c.vc("ngIf",!r.disabled)}}var H=[1,"show-all-numbers",3,"formControl"];function W(e,t){if(1&e&&(c.ec(0,"mat-slide-toggle",H),c.Uc(1,"Aj neaktívne"),c.cc()),2&e){var n=c.pc();c.vc("formControl",n.showInactive)}}var V=function(e){return{"full-width":e}},z=function(){function e(){this.disabled=!0,this.numberList=[],this.showInactive=new u.g(!1),this.visible=!0,this.addOnBlur=!0,this.separatorKeysCodes=[p.g,p.c]}return e.prototype.ngOnInit=function(){},e.prototype.add=function(e){var t=e.input,n=e.value;(n||"").trim()&&this.numberList.push(new L(n.trim())),t&&(t.value="")},e.prototype.remove=function(e){e>=0&&this.numberList.splice(e,1)},e.ngComponentDef=c.Rb({type:e,selectors:[["app-numbers"]],factory:function(t){return new(t||e)},inputs:{disabled:"disabled",numberList:"numberList",isNew:"isNew"},consts:7,vars:12,template:function(e,t){if(1&e&&(c.ec(0,"mat-form-field",A),c.ec(1,"mat-chip-list",T,j),c.Sc(3,X,3,4,"mat-chip",B),c.qc(4,"activePipe"),c.ec(5,"input",G),c.kc("matChipInputTokenEnd",(function(e){return t.add(e)})),c.cc(),c.cc(),c.cc(),c.Sc(6,W,2,1,"mat-slide-toggle",x)),2&e){var n=c.Dc(2);c.vc("ngClass",c.yc(10,V,t.isNew)),c.Jc(1),c.vc("disabled",t.disabled),c.Jc(3),c.vc("ngForOf",c.sc(4,7,t.numberList,t.showInactive.value&&!t.isNew)),c.Jc(5),c.vc("matChipInputFor",n)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlur),c.Jc(6),c.vc("ngIf",!t.isNew)}},directives:[s.b,o.q,m.d,o.s,m.c,o.t,m.a,f.a,m.e,b.a,u.r,u.h],pipes:[v.a],styles:[".number-list[_ngcontent-%COMP%]{width:80%}.show-all-numbers[_ngcontent-%COMP%]{width:20%;min-width:120px}"]}),e}(),$=n("mrSG"),Q=n("p0Sj"),Z=n("67Y/"),ee=n("O+os"),te=n("GlzI"),ne=n("9Z1F"),ce=n("aR35"),ie=n("QNcV"),re=n("o0vB"),ae=n("9nlD"),oe=n("cUzu"),se=function(e){function t(t,n,c){return e.call(this,t,n,c)||this}return Object($.__extends)(t,e),t.prototype.getLocationEmbedUrl=function(e){var t=ce.a.GOOGLE_MAPS_API_EMBED_URL+"?";return(t+="key="+ce.a.GOOGLE_MAPS_API_EMBED_KEY)+"&q="+e},t.prototype.getPlacesAround=function(e){return e.radius=e.radius||500,e.location=e.latitude+","+e.longitude,e.key=e.key||ce.a.GOOGLE_MAPS_API_KEY,this.http.post("http://g43.clanweb.eu/API/maps.php",e).pipe(Object(ne.a)(this.handleError("getPlacesAround")))},t.ngInjectableDef=c.Tb({token:t,factory:function(e){return new(e||t)(c.ic(oe.c),c.ic(ie.a),c.ic(ae.a))},providedIn:"root"}),t}(re.a),le=n("kh7C"),ue=function(){function e(e,t,n,c){void 0===e&&(e="SK"),void 0===t&&(t=""),void 0===n&&(n=""),void 0===c&&(c=""),this.streetNumber=c,this.country=e,this.street=n,this.city=t}return e.parse=function(t){var n=new e;return t?(n.streetNumber=t.streetNumber,n.street=t.street,n.country=t.country,n.city=t.city,n):n},e.toModel=function(e){return{country:e.country||"",city:e.city||"",street:e.street||"",streetNumber:e.streetNumber||""}},e}(),pe=function(){function e(){this.emails=[new d],this.numbers=[new L],this.address=new ue,this.accounts=[]}return e.parse=function(t){var n=new e;return t?(n.id=t.person_id||t.id,n.name=t.name,n.surName=t.surName,n.gender=t.gender,n.birthday=t.birthday,n.nick=t.nick,n.address=t.address?ue.parse(t.address):new ue,n.emails=Array.isArray(t.emails)?t.emails.map(d.parse):[],n.numbers=Array.isArray(t.numbers)?t.numbers.map(L.parse):[],n.accounts=Array.isArray(t.accounts)?t.accounts.map(a.parse):[],n):n},e.toModel=function(e){return{name:e.name||"",surName:e.surName||"",nick:e.nick||"",gender:e.gender||"",birthday:e.birthday||"",address:e.address?ue.toModel(e.address):void 0}},e}(),de=ce.a.BASE_URL+"/persons",me=function(e){function t(t,n,c){return e.call(this,t,n,c)||this}return Object($.__extends)(t,e),t.prototype.getPersons=function(){return this.http.get(de).pipe(Object(ne.a)(this.handleError("getPersons")))},t.prototype.getDetail=function(e){return this.http.get(de+"/"+e).pipe(Object(Z.a)(pe.parse),Object(ne.a)(this.handleError("cannot get person with id "+e)))},t.prototype.update=function(e){return this.http.put(de+"/"+e.id,e,{headers:this.getHeaders()}).pipe(Object(Z.a)(pe.parse),Object(ne.a)(this.handleError("update person with id"+e.id)))},t.prototype.delete=function(e){return this.http.delete(de+"/"+e).pipe(Object(ne.a)(this.handleError("delete person with id"+e)))},t.prototype.add=function(e){return this.http.post(de,JSON.stringify(e),{headers:this.getHeaders()}).pipe(Object(Z.a)(pe.parse),Object(ne.a)(this.handleError("add person")))},t.prototype.addAll=function(e){return this.http.post(de+"/all",JSON.stringify(e),{headers:this.getHeaders()}).pipe(Object(Z.a)((function(e){return e.map(pe.parse)})),Object(ne.a)(this.handleError("addAll persons")))},t.ngInjectableDef=c.Tb({token:t,factory:function(e){return new(e||t)(c.ic(oe.c),c.ic(ie.a),c.ic(ae.a))},providedIn:null}),t}(re.a),fe=n("DUip"),be=n("QrbZ"),ve=n("YfVx"),he=n("2mMm"),ge=n("XjUc"),ye=n("uxoL"),we=n("pENn"),Ie=n("L7w6"),Ce=n("S8bm"),Oe=[2,"display","flex","justify-content","center"],ke=[4,"ngIf"],Ne=["class","full-width","style","align-content: center",3,"formGroup",4,"ngIf"],Se=["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],Ue=["mat-raised-button","",3,"click"];function Ee(e,t){1&e&&c.Yb(0,"mat-spinner")}var Fe=[1,"full-width",2,"align-content","center",3,"formGroup"],Me=[1,"flex-row"],_e=[1,"full-width"],Je=["matInput","","formControlName","name","placeholder","Meno"],Pe=["matInput","","formControlName","surName","placeholder","Priezvisko"],De=["matInput","","formControlName","nick","placeholder","Prezívka"],Le=["matInput","","formControlName","birthday","placeholder","Dátum narodenia"],Ae=["formControlName","gender","aria-label","Font Style"],Te=["value","MALE"],je=["value","FEMALE"],Be=["formGroupName","address",1,"flex-row"],Ge=["matInput","","type","text","placeholder","Štát","formControlName","country",3,"matAutocomplete"],xe=["auto","matAutocomplete"],Ye=[3,"value",4,"ngFor","ngForOf"],Ke=["matInput","","formControlName","city","placeholder","Mesto"],Re=["matInput","","formControlName","street","placeholder","Ulica"],qe=["matInput","","formControlName","streetNumber","placeholder","Číslo domu"],Xe=["mat-icon-button","","matTooltip","Show address on map",3,"click"],He=[3,"disabled","numberList","isNew"],We=[3,"disabled","emailList","isNew"];function Ve(e,t){1&e&&(c.ec(0,"mat-error"),c.Uc(1," Name is "),c.ec(2,"strong"),c.Uc(3,"required"),c.cc(),c.cc())}function ze(e,t){1&e&&(c.ec(0,"mat-error"),c.Uc(1," Surname is "),c.ec(2,"strong"),c.Uc(3,"required"),c.cc(),c.cc())}var $e=[3,"value"];function Qe(e,t){if(1&e&&(c.ec(0,"mat-option",$e),c.Uc(1),c.cc()),2&e){var n=t.$implicit;c.vc("value",n),c.Jc(1),c.Wc(" ",n," ")}}function Ze(e,t){if(1&e){var n=c.fc();c.ec(0,"form",Fe),c.ec(1,"div",Me),c.ec(2,"div"),c.ec(3,"mat-form-field",_e),c.Yb(4,"input",Je),c.Sc(5,Ve,4,0,"mat-error",ke),c.cc(),c.cc(),c.ec(6,"div"),c.ec(7,"mat-form-field",_e),c.Yb(8,"input",Pe),c.Sc(9,ze,4,0,"mat-error",ke),c.cc(),c.cc(),c.ec(10,"div"),c.ec(11,"mat-form-field",_e),c.Yb(12,"input",De),c.cc(),c.cc(),c.cc(),c.ec(13,"div",Me),c.ec(14,"div"),c.ec(15,"mat-form-field",_e),c.Yb(16,"input",Le),c.cc(),c.cc(),c.ec(17,"div"),c.Uc(18," Pohlavie: "),c.ec(19,"mat-button-toggle-group",Ae),c.ec(20,"mat-button-toggle",Te),c.Uc(21,"Muž"),c.cc(),c.ec(22,"mat-button-toggle",je),c.Uc(23,"Žena"),c.cc(),c.cc(),c.cc(),c.cc(),c.ec(24,"div",Be),c.ec(25,"div"),c.ec(26,"mat-form-field",_e),c.Yb(27,"input",Ge),c.ec(28,"mat-autocomplete",null,xe),c.Sc(30,Qe,2,2,"mat-option",Ye),c.qc(31,"async"),c.cc(),c.cc(),c.cc(),c.ec(32,"div"),c.ec(33,"mat-form-field",_e),c.Yb(34,"input",Ke),c.cc(),c.cc(),c.ec(35,"div"),c.ec(36,"mat-form-field",_e),c.Yb(37,"input",Re),c.cc(),c.cc(),c.ec(38,"div"),c.ec(39,"mat-form-field",_e),c.Yb(40,"input",qe),c.cc(),c.cc(),c.ec(41,"div"),c.ec(42,"button",Xe),c.kc("click",(function(e){return c.Fc(n),c.pc().showMap()})),c.ec(43,"mat-icon"),c.Uc(44,"map"),c.cc(),c.cc(),c.cc(),c.cc(),c.Yb(45,"app-numbers",He),c.Yb(46,"app-email",We),c.cc()}if(2&e){var i=c.Dc(29),r=c.pc();c.vc("formGroup",r.detailForm),c.Jc(5),c.vc("ngIf",r.detailForm.get("name").hasError("required")),c.Jc(9),c.vc("ngIf",r.detailForm.get("surName").hasError("required")),c.Jc(27),c.vc("matAutocomplete",i),c.Jc(30),c.vc("ngForOf",c.rc(31,11,r.filteredCountries)),c.Jc(45),c.vc("disabled",r.detailForm.disabled)("numberList",r.selectedDetail.numbers)("isNew",r.isNew),c.Jc(46),c.vc("disabled",r.detailForm.disabled)("emailList",r.selectedDetail.emails)("isNew",r.isNew)}}var et=["color","primary","mat-raised-button","",3,"disabled","click"];function tt(e,t){if(1&e){var n=c.fc();c.ec(0,"button",et),c.kc("click",(function(e){return c.Fc(n),c.pc().save()})),c.Uc(1," Uložiť "),c.cc()}if(2&e){var i=c.pc();c.vc("disabled",i.detailForm.invalid)}}function nt(e,t){if(1&e){var n=c.fc();c.ec(0,"button",et),c.kc("click",(function(e){return c.Fc(n),c.pc().edit()})),c.Uc(1," Upraviť "),c.cc()}if(2&e){var i=c.pc();c.vc("disabled",i.detailForm.invalid)}}var ct=function(e){function t(t,n,c,i,r,a,o,s){var l=e.call(this,o,t,c,s,a,"persons")||this;return l.mapService=n,l.dialog=i,l.utilService=r,l.countries=[],l}return Object($.__extends)(t,e),t.prototype.ngOnInit=function(){var e=this;this.utilService.getCountries().subscribe((function(t){var n;(n=e.countries).push.apply(n,t),e.filteredCountries=e.detailForm.controls.address.controls.country.valueChanges.pipe(Object(Q.a)(""),Object(Z.a)((function(t){return e._filter(t)})))})),this.initialization()},t.prototype.save=function(){var e=this;(this.isNew?this.httpService.add:this.httpService.update).call(this.httpService,this.selectedDetail).subscribe((function(t){return e.setDetail(t)}))},t.prototype.showMap=function(){var e=this.detailForm.value.address.city+" ";e+=this.detailForm.value.address.street+" ",e+=this.detailForm.value.address.streetNumber,this.dialog.open(te.a,{width:"95%",height:"95%",data:this.mapService.getLocationEmbedUrl(encodeURI(e))})},t.prototype.setDetail=function(e){this.selectedDetail=e,this.loading=!1,this.detailForm.patchValue(this.selectedDetail)},t.prototype._filter=function(e){var t=e.toLowerCase();return this.countries.filter((function(e){return e.toLowerCase().includes(t)}))},t.prototype.createForm=function(){return this.formBuilder.group({name:["",{validators:u.G.required}],surName:["",{validators:u.G.required}],nick:"",birthday:["",{validators:u.G.pattern(/(\d|\?){2}\.(\d|\?){2}.(\d|\?){4}/)}],gender:["",{validators:u.G.required}],address:this.formBuilder.group({country:"",city:"",street:"",streetNumber:""})})},t.ngComponentDef=c.Rb({type:t,selectors:[["app-person-detail"]],factory:function(e){return new(e||t)(c.Xb(fe.a),c.Xb(se),c.Xb(fe.h),c.Xb(be.b),c.Xb(le.a),c.Xb(ae.a),c.Xb(u.f),c.Xb(me))},features:[c.Gb],consts:8,vars:4,template:function(e,t){1&e&&(c.ec(0,"mat-card"),c.ec(1,"div",Oe),c.Sc(2,Ee,1,0,"mat-spinner",ke),c.cc(),c.Sc(3,Ze,47,13,"form",Ne),c.Sc(4,tt,2,1,"button",Se),c.Sc(5,nt,2,1,"button",Se),c.ec(6,"button",Ue),c.kc("click",(function(e){return t.back()})),c.Uc(7,"Naspäť"),c.cc(),c.cc()),2&e&&(c.Jc(2),c.vc("ngIf",t.loading),c.Jc(3),c.vc("ngIf",t.selectedDetail),c.Jc(4),c.vc("ngIf",!t.disabled),c.Jc(5),c.vc("ngIf",t.disabled))},directives:[ve.a,o.t,he.b,ge.c,u.I,u.s,u.j,s.b,l.b,u.c,u.r,u.i,ye.b,ye.a,u.k,we.d,we.a,o.s,Ie.a,f.a,z,D,s.a,Ce.o],pipes:[o.b],styles:[".flex-row[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.flex-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-right:1em}@media only screen and (max-width:408px){.flex-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-right:1em}"]}),t}(ee.a);n("aNQE");var it=n("JkJP"),rt=n("jjfr"),at=[3,"ngIf"],ot=["mat-icon-button","","aria-label","Example icon-button with a menu",3,"disabled","matMenuTriggerFor"],st=[3,"matBadge"],lt=["menuEmails","matMenu"],ut=["mat-menu-item","",3,"disabled",4,"ngFor","ngForOf"],pt=["menuNumber","matMenu"],dt=["mat-menu-item","",3,"disabled"],mt=[3,"href"];function ft(e,t){if(1&e&&(c.ec(0,"button",dt),c.ec(1,"a",mt),c.ec(2,"span"),c.Uc(3),c.cc(),c.cc(),c.cc()),2&e){var n=t.$implicit;c.vc("disabled",!n.active),c.Jc(1),c.xc("href","mailto:",n.email,"",c.Ic),c.Jc(3),c.Vc(n.email)}}function bt(e,t){if(1&e&&(c.ec(0,"button",dt),c.ec(1,"a",mt),c.ec(2,"span"),c.Uc(3),c.cc(),c.cc(),c.cc()),2&e){var n=t.$implicit;c.vc("disabled",!n.active),c.Jc(1),c.xc("href","tel:",n.number,"",c.Ic),c.Jc(3),c.Vc(n.number)}}function vt(e,t){if(1&e&&(c.ec(0,"button",ot),c.ec(1,"mat-icon",st),c.Uc(2,"email"),c.cc(),c.cc(),c.ec(3,"mat-menu",null,lt),c.Sc(5,ft,4,3,"button",ut),c.cc(),c.ec(6,"button",ot),c.ec(7,"mat-icon",st),c.Uc(8,"call"),c.cc(),c.cc(),c.ec(9,"mat-menu",null,pt),c.Sc(11,bt,4,3,"button",ut),c.cc()),2&e){var n=c.Dc(4),i=c.Dc(10),r=c.pc();c.vc("disabled",!r.person||!(null!=r.person.emails&&r.person.emails.length))("matMenuTriggerFor",n),c.Jc(1),c.vc("matBadge",null==r.person.emails?null:r.person.emails.length),c.Jc(5),c.vc("ngForOf",r.person.emails),c.Jc(6),c.vc("disabled",!r.person||!(null!=r.person.numbers&&r.person.numbers.length))("matMenuTriggerFor",i),c.Jc(7),c.vc("matBadge",null==r.person.numbers?null:r.person.numbers.length),c.Jc(11),c.vc("ngForOf",r.person.numbers)}}var ht=function(){function e(){}return e.prototype.ngOnInit=function(){},e.ngComponentDef=c.Rb({type:e,selectors:[["app-person-list-row-cell-select"]],factory:function(t){return new(t||e)},inputs:{person:"person"},consts:1,vars:1,template:function(e,t){1&e&&c.Sc(0,vt,12,8,"ng-template",at),2&e&&c.vc("ngIf",t.person)},directives:[o.t,he.b,it.d,f.a,rt.a,it.e,o.s,it.b],styles:[""]}),e}(),gt=(n("t35G"),n("n1jX"),n("3S9H")),yt=n("IYfF"),wt=n("VNr4"),It=n("c4N/"),Ct=["class","person-wrapper",4,"ngIf"],Ot=[1,"person-wrapper"],kt=["cellSelect",""],Nt=["cellOptions",""],St=["cellBirthday",""],Ut=[3,"tableConfig","templates","data",4,"ngIf"],Et=["mat-fab","",1,"floating-add",3,"click"],Ft=[3,"person"];function Mt(e,t){1&e&&c.Yb(0,"app-person-list-row-cell-select",Ft),2&e&&c.vc("person",t.row)}var _t=["mat-mini-fab","","color","primary",3,"click"];function Jt(e,t){if(1&e){var n=c.fc();c.ec(0,"button",_t),c.kc("click",(function(e){c.Fc(n);var i=t.row;return c.pc(2).showDetail(i.id)})),c.ec(1,"mat-icon"),c.Uc(2,"chevron_right"),c.cc(),c.cc(),c.ec(3,"button",_t),c.kc("click",(function(e){c.Fc(n);var i=t.row;return c.pc(2).remove(i)})),c.ec(4,"mat-icon"),c.Uc(5,"delete"),c.cc(),c.cc()}}function Pt(e,t){1&e&&(c.Uc(0),c.qc(1,"date")),2&e&&c.Wc(" ",c.sc(1,1,t.row.birthday,"dd.MM.yyyy")," ")}var Dt=[3,"tableConfig","templates","data"],Lt=function(e,t,n){return{options:e,contacts:t,birthday:n}};function At(e,t){if(1&e&&c.Yb(0,"app-abstract-table",Dt),2&e){c.pc();var n=c.Dc(4),i=c.Dc(2),r=c.Dc(6),a=c.pc();c.vc("tableConfig",a.personConfig)("templates",c.Ac(3,Lt,n,i,r))("data",a.personData)}}function Tt(e,t){if(1&e){var n=c.fc();c.ec(0,"div",Ot),c.Sc(1,Mt,1,1,"ng-template",null,kt,c.Tc),c.Sc(3,Jt,6,0,"ng-template",null,Nt,c.Tc),c.Sc(5,Pt,2,4,"ng-template",null,St,c.Tc),c.Sc(7,At,1,7,"app-abstract-table",Ut),c.ec(8,"button",Et),c.kc("click",(function(e){return c.Fc(n),c.pc().createNew()})),c.ec(9,"mat-icon"),c.Uc(10,"add"),c.cc(),c.cc(),c.cc()}if(2&e){var i=c.pc();c.Jc(7),c.vc("ngIf",i.personData)}}var jt=[{path:"",children:[{path:"",pathMatch:"full",component:function(){function e(e,t,n,c,i){this.route=e,this.router=t,this.authService=n,this.personHttpService=c,this.notificationService=i,this.Roles=gt.a}return e.prototype.ngOnInit=function(){this.personData=this.personHttpService.getPersons(),this.personConfig={stickyEnd:3,columns:[{name:"contacts"},{name:"name",customContent:function(e){return(e.name||"")+" "+(e.surName||"")}},{name:"nick",label:"Nick",sort:!0},{name:"birthday",label:"Birthday",sort:!0},{name:"account",label:"Account",visible:!1},{name:"options",width:"9em"}],selectOptions:[{action:console.log,icon:"delete",label:"Delete"}],stickyHeader:!0,selection:"multi",paginateOptions:[5,10,20,50,100],pageSize:10,paginator:!0}},e.prototype.remove=function(e){var t=this,n=e.map((function(e){return t.personHttpService.delete(e.id)}));Object(wt.a)(n).subscribe((function(){t.notificationService.openSuccessNotification("Person successfully removed")}),(function(e){return t.notificationService.openErrorNotification(e)}))},e.prototype.createNew=function(){this.router.navigateByUrl("/persons/new")},e.prototype.showDetail=function(e){this.router.navigateByUrl("/persons/"+e)},e.ngComponentDef=c.Rb({type:e,selectors:[["app-person-list"]],factory:function(t){return new(t||e)(c.Xb(fe.a),c.Xb(fe.h),c.Xb(yt.a),c.Xb(me),c.Xb(ae.a))},consts:2,vars:3,template:function(e,t){1&e&&(c.Sc(0,Tt,11,1,"div",Ct),c.qc(1,"async")),2&e&&c.vc("ngIf",c.rc(1,1,t.authService.user$))},directives:[o.t,he.b,f.a,ht,It.a],pipes:[o.b,o.f],styles:[".person-wrapper[_ngcontent-%COMP%]{padding-bottom:10em}.person-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.person-wrapper[_ngcontent-%COMP%]   .floating-add[_ngcontent-%COMP%]{position:fixed;right:3em;bottom:3em}"]}),e}()},{path:":id",component:ct}]}],Bt=function(){function e(){}return e.ngModuleDef=c.Vb({type:e}),e.ngInjectorDef=c.Ub({factory:function(t){return new(t||e)},imports:[[fe.l.forChild(jt)],fe.l]}),e}();fe.l.forChild(jt),n.d(t,"PersonModule",(function(){return Gt}));var Gt=function(){function e(){}return e.ngModuleDef=c.Vb({type:e}),e.ngInjectorDef=c.Ub({factory:function(t){return new(t||e)},providers:[me],imports:[[i.a,Bt,r.a]]}),e}()}}]);