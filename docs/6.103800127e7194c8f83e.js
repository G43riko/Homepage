(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"8Uj0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={HH:"(2[0-3]|[01]\\d)",H:"(2[0-3]|[01]?\\d)",mm:"([0-5]\\d)",m:"([0-5]?\\d)",MM:"(0\\d|1[0-2]|\\d)",M:"([1-9]|1[0-2])",ss:"([0-5]\\d)",s:"([0-5]?\\d)",YYYY:"([1-9]\\d{3,3})",YY:"(\\d{2,2})",DD:"([0-3]\\d)"},c=function(){function t(){}return t.isCamelCase=function(t){return new RegExp("^[A-Z]?[a-z]+([A-Z][a-z]*)*$","g").test(t)},t.isUpperCamelCase=function(t){return new RegExp("^([A-Z][a-z]*)*$","g").test(t)},t.isLowerCamelCase=function(t){return new RegExp("^[a-z]+([A-Z][a-z]*)*$","g").test(t)},t.isLowerSnakeCase=function(t){return new RegExp("^[a-z]*(_[a-z]*)*$","g").test(t)},t.isUpperSnakeCase=function(t){return new RegExp("^[A-Z]*(_[A-Z]*)*$","g").test(t)},t.isSnakeCase=function(t){return new RegExp("^([a-z]*|[A-Z]*)(_[a-zA-Z]*)*$","g").test(t)},t.isTimeFormat=function(t,e){for(var n in r)r.hasOwnProperty(n)&&(e=e.replace(n,r[n]));return new RegExp("^"+e+"$").test(t)},t}();e.StringCheckers=c},o7GM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("8Uj0"),c="ąàáäâãåæăćčĉďęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž"+"ąàáäâãåæăćčĉďęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž".toUpperCase(),a="aaaaaaaaacccdeeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz"+"aaaaaaaaacccdeeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz".toUpperCase(),i=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i,o=/^([+]|00)?[(]?[0-9]{3,4}[)]?[-\s.]?[0-9]{2,3}[-\s.]?[0-9]{2,6}([-\s.]?[0-9]{3})?$/im,s=function(){function t(){}return t.removeAccentedCharacters=function(t){return t&&t.replace?t.replace(/./g,(function(t){var e=c.indexOf(t);return e>=0?a[e]:t})):t},t.join=function(t,e,n,r){return void 0===e&&(e=" "),void 0===n&&(n=""),void 0===r&&(r=""),Array.isArray(t)?""+n+t.join(e)+r:n+t+r},t.toUpperSnakeCase=function(t){return r.StringCheckers.isCamelCase(t)?t.replace(/([a-z])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z])/g,"$1_$2").toUpperCase():r.StringCheckers.isUpperSnakeCase(t)?t:t.replace(/(-|_| |\s)+(.)?/g,(function(t,e,n){return n?"_"+n:""})).replace(/^_/,"").toUpperCase()},t.toLowerSnakeCase=function(t){return r.StringCheckers.isCamelCase(t)?t.replace(/([a-z])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z])/g,"$1_$2").toLowerCase():r.StringCheckers.isLowerSnakeCase(t)?t:t.replace(/(-|_| |\s)+(.)?/g,(function(t,e,n){return n?"_"+n:""})).replace(/^_/,"").toLowerCase()},t.toLowerCamelCase=function(t){return r.StringCheckers.isLowerCamelCase(t)?t:t.trim().replace(/([a-z])([A-Z])([A-Z])/g,"$1$2_$3").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase().replace(/(-|_| |\s)+(.)?/g,(function(t,e,n){return n?n.toUpperCase():""})).replace(/^./,(function(t){return t.toLowerCase()}))},t.toUpperCamelCase=function(e){return r.StringCheckers.isUpperCamelCase(e)?e:t.toCapital(t.toLowerCamelCase(e))},t.toCapital=function(t){return t.replace(/./,(function(t){return t.toUpperCase()}))},t.getLastPart=function(t,e){if(void 0===e&&(e=" "),!t||!t.split)return t;var n=t.split(e);return n[n.length-1]},t.count=function(t,e){return(t.match(new RegExp(e,"g"))||[]).length},t.repeat=function(t,e){return new Array(e+1).join(t)},t.removeAll=function(t,e){return t.replace(new RegExp("("+e.join("|")+")","g"),"")},t.template=function(t,e,n,r){void 0===n&&(n="{{"),void 0===r&&(r="}}"),n=n.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$"),r=r.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$");var c=new RegExp(n+"(.+?)'"+r,"g");return(t.match(c)||[]).forEach((function(c){var a=c.substring(n.length,c.length-r.length).trim(),i=e[a];i&&(t=t.replace(c,i))})),t},t.removeEmptyLines=function(t){return t.replace(/^\s*$(?:\r\n?|\n)/gm,"")},t.between=function(t,e,n){var r=t.indexOf(e),c=t.indexOf(n);return r<0&&c>=0?t.substring(0,c):t.substring(r+e.length,c<0&&r>=0?t.length:c)},t.occurrences=function(t,e){return(t.match(new RegExp(e,"g"))||[]).length},t.collapseWhitespace=function(t){return t.replace(/[\s\uFEFF\xA0]{2,}/g," ")},t.capitalize=function(t){return t.toLowerCase().replace(/^./,(function(t){return t.toUpperCase()}))},t.isEmpty=function(t){return!t||/^[\s\xa0]*$/.test(t)},t.swapCase=function(t){return t.replace(/\S/g,(function(t){var e=t.toLowerCase();return e===t?t.toUpperCase():e}))},t.transformToBasicFormat=function(e){return t.collapseWhitespace(t.removeAccentedCharacters(e).toLowerCase()).trim()},t.isValidEmail=function(t){return!!t&&i.test(t.trim())},t.getAsciiArray=function(t){for(var e=[],n=0,r=t;n<r.length;n++)e[e.length]=r[n].charCodeAt(0);return e},t.isValidPhoneNumber=function(t){return!!t&&o.test(t.trim())},t.toBasicForm=function(e){return t.removeAccentedCharacters(e.toLowerCase())},t.contains=function(e,n){return!!e&&t.removeAccentedCharacters(e.toLowerCase()).indexOf(n)>=0},t.joinSingle=function(t,e,n){return n.startsWith(e)&&t.endsWith(e)?t+n.substring(e.length):n.startsWith(e)||t.endsWith(e)?t+n:t+e+n},t.getFormattedNumber=function(t,e){return void 0===e&&(e="+421"),(t=t.replace(/[( )/-]/g,"")).startsWith("+")?t:t.startsWith("00")?t.substring(2):t.startsWith("09")||t.startsWith("02")?e+t.substring(1):t},t}();e.StringUtils=s},vUrZ:function(t,e,n){"use strict";n.r(e);var r=n("TYT/"),c=n("krJt"),a=n("PCNd"),i=n("pd6a"),o=n("IYfF"),s=n("mrSG"),u=n("F/XL"),l=n("9Z1F"),p=n("aR35"),f=n("o0vB"),d=n("9nlD"),g=n("cUzu"),m=p.a.BASE_URL+"/menus/restaurant",h=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return Object(s.__extends)(e,t),e.prototype.getDailyMenuFor=function(t){return this.http.get(m+"/"+t).pipe(Object(l.a)((function(){return Object(u.a)(null)})))},e.ngInjectableDef=r.Tb({token:e,factory:function(t){return new(t||e)(r.ic(g.c),r.ic(o.a),r.ic(d.a))},providedIn:null}),e}(f.a),v=n("67Y/"),b=n("15JJ"),y=n("26FU"),w=function(){function t(){var t=this;this.coordinates=new y.a({}),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){t.coordinates.next({latitude:e.coords.latitude,longitude:e.coords.longitude})}),(function(e){return t.coordinates.error(e)})):this.coordinates.error("Geolocation is not supported by this browser.")}return t.prototype.cleanUp=function(){this.id&&navigator.geolocation.clearWatch(this.id)},t.prototype.distanceAsync=function(t){var e=this;return t?this.coordinates.pipe(Object(v.a)((function(n){return n?e.calcCrow(Number(n.latitude),Number(n.longitude),Number(t.latitude),Number(t.longitude)):0}))):Object(u.a)(0)},t.prototype.formatDistance=function(t){return t<1?(1e3*t).toFixed(0)+" m ":t.toFixed(2)+" km "},t.prototype.distanceFrom=function(t){return this.distance(t,this.coordinates.value)},t.prototype.distance=function(t,e){return t&&e?this.calcCrow(Number(e.latitude),Number(e.longitude),Number(t.latitude),Number(t.longitude)):0},t.prototype.calcCrow=function(t,e,n,r){var c=function(t){return t*Math.PI/180},a=c(n-t),i=c(r-e);t=c(t),n=c(n);var o=Math.sin(a/2)*Math.sin(a/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(t)*Math.cos(n);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371},t.ngInjectableDef=r.Tb({token:t,factory:function(e){return new(e||t)},providedIn:"root"}),t}(),C=n("o8Qb"),S=p.a.BASE_URL+"/restaurants",x=function(t){function e(e,n,r,c,a){var i=t.call(this,r,c,a)||this;return i.geoLocationService=e,i.translateService=n,i.restaurants=i.loadRestaurants(),i}return Object(s.__extends)(e,t),e.prototype.openFoodImages=function(t){window.open(this.getGoogleImagesLinkFor(t),"_blank")},e.prototype.getDistance=function(t){var e=this.geoLocationService.distanceFrom(t);return this.geoLocationService.formatDistance(e)},e.prototype.getRestaurants=function(){return this.restaurants.pipe(Object(v.a)((function(t){return Object.values(t).map((function(t){return t.restaurant}))})))},e.prototype.getWrappers=function(){return this.restaurants.pipe(Object(v.a)((function(t){return Object.values(t)})))},e.prototype.openHomepage=function(t){window.open(t.homepage,"__blank")},e.prototype.getRestaurantByKey=function(t){return this.restaurants.pipe(Object(v.a)((function(e){return e[t].restaurant})),Object(l.a)((function(){return Object(u.a)(null)})))},e.prototype.getGoogleImagesLinkFor=function(t){return"https://www.google.sk/search?q="+encodeURIComponent(t)+"&tbm=isch"},e.prototype.loadRestaurants=function(){var t=this;return this.geoLocationService.coordinates.pipe(Object(b.a)((function(e){return t.http.get(S+"/byDistance?latitude="+e.latitude+"&longitude="+e.longitude).pipe(Object(l.a)(t.handleError("getRestaurants")),Object(v.a)((function(t){var e={};return t.filter((function(t){return t.restaurant.key})).forEach((function(t){e[t.restaurant.key]=t})),e})))})))},e.ngInjectableDef=r.Tb({token:e,factory:function(t){return new(t||e)(r.ic(w),r.ic(C.e),r.ic(g.c),r.ic(o.a),r.ic(d.a))},providedIn:null}),e}(f.a),k=n("j+lW"),M=n("uXrp"),I=n("M+/Y"),O=n("utYi"),F=n("2mMm"),U=n("L7w6"),R=n("rta0"),J=n("lAl6"),_=n("FgbW"),L=n("Valr"),A=n("XjUc"),$=function(){function t(){}return t.prototype.transform=function(t,e){if(!e)return t;var n=e.toLowerCase().trim();return t.filter((function(t){return!(!t.restaurant.key||!t.restaurant.key.toLowerCase().includes(n))||t.restaurant.name&&t.restaurant.name.toLowerCase().includes(n)}))},t.ngPipeDef=r.Wb({name:"searchRestaurant",type:t,factory:function(e){return new(e||t)},pure:!0}),t}(),j=["class","restaurant-selector-wrapper",4,"ngIf","ngIfElse"],P=["onlyRestaurantList",""],D=[1,"restaurant-selector-wrapper"],z=["class","loader-wrapper",4,"ngIf"],H=[2,"padding","0 0.5rem 0 0.5rem","box-shadow","0 0 5px rgba(0, 0, 0, 0.4)","height","60px"],E=["matInput","",3,"placeholder"],T=["searchRestaurant",""],Y=["matSuffix",""],Z=[3,"selectionChange"],q=[3,"selected","value",4,"ngFor","ngForOf"],W=[1,"loader-wrapper"];function X(t,e){1&t&&(r.ec(0,"div",W),r.Yb(1,"mat-spinner"),r.cc())}var N=[3,"selected","value"],V=[2,"font-size","11px"];function G(t,e){if(1&t&&(r.ec(0,"mat-list-option",N),r.Uc(1),r.ec(2,"small",V),r.Uc(3),r.cc(),r.cc()),2&t){var n=e.$implicit,c=r.pc().ngIf,a=r.pc();r.vc("selected",a.isSelected(n.restaurant,c))("value",n.restaurant.key),r.Jc(1),r.Wc(" ",n.restaurant.name," "),r.Jc(3),r.Vc(a.getFormattedDistance(n.distance))}}function B(t,e){if(1&t){var n=r.fc();r.ec(0,"div",D),r.Sc(1,X,2,0,"div",z),r.ec(2,"mat-form-field",H),r.Yb(3,"input",E,T),r.qc(5,"translate"),r.ec(6,"mat-icon",Y),r.Uc(7,"search"),r.cc(),r.cc(),r.ec(8,"mat-selection-list",Z),r.kc("selectionChange",(function(t){r.Fc(n);var c=e.ngIf;return r.pc().change(t,c)})),r.Sc(9,G,4,4,"mat-list-option",q),r.qc(10,"searchRestaurant"),r.cc(),r.cc()}if(2&t){var c=r.Dc(4),a=r.pc();r.Jc(1),r.vc("ngIf",a.loading),r.Jc(3),r.wc("placeholder",r.rc(5,3,"common.search")),r.Jc(9),r.vc("ngForOf",r.sc(10,5,a.allRestaurants,c.value))}}var K=[3,"disabled"],Q=[4,"ngFor","ngForOf"];function tt(t,e){if(1&t&&(r.ec(0,"mat-list-option"),r.Uc(1),r.ec(2,"small",V),r.Uc(3),r.cc(),r.cc()),2&t){var n=e.$implicit,c=r.pc(2);r.Jc(1),r.Wc(" ",n.restaurant.name," "),r.Jc(3),r.Vc(c.getFormattedDistance(n.distance))}}function et(t,e){if(1&t&&(r.ec(0,"div",D),r.ec(1,"mat-selection-list",K),r.Sc(2,tt,4,2,"mat-list-option",Q),r.cc(),r.cc()),2&t){var n=r.pc();r.Jc(1),r.vc("disabled",!0),r.Jc(2),r.vc("ngForOf",n.allRestaurants)}}var nt=function(){function t(t,e,n,r){this.geoLocationService=t,this.restaurantHttpService=e,this.translateService=n,this.authService=r,this.loading=!1,this.allRestaurants=[]}return t.prototype.getFormattedDistance=function(t){return t?this.geoLocationService.formatDistance(t):this.translateService.instant("shared.unknownDistance")},t.prototype.ngOnInit=function(){var t=this;this.restaurantHttpService.getWrappers().pipe(Object(b.a)((function(e){return t.allRestaurants=e,t.authService.user$}))).subscribe((function(e){var n;if(t.selectionList.deselectAll(),e&&Array.isArray(e.favoriteRestaurants)){var r=e.favoriteRestaurants;(n=t.selectionList.selectedOptions).select.apply(n,t.selectionList.options.filter((function(t){return r.includes(t.value)})))}}))},t.prototype.isSelected=function(t,e){return Boolean(t.key&&Array.isArray(e.favoriteRestaurants)&&e.favoriteRestaurants.includes(t.key))},t.prototype.change=function(t,e){var n=this;this.loading=!0,this.authService.updateFavouriteRestaurant(e,t.option.value,t.option.selected?"add":"remove").subscribe((function(){n.loading=!1}))},t.ngComponentDef=r.Rb({type:t,selectors:[["app-restaurant-selector"]],factory:function(e){return new(e||t)(r.Xb(w),r.Xb(x),r.Xb(C.e),r.Xb(o.a))},viewQuery:function(t,e){var n;1&t&&r.Zc(J.i,!0),2&t&&r.Cc(n=r.mc())&&(e.selectionList=n.first)},consts:4,vars:4,template:function(t,e){if(1&t&&(r.Sc(0,B,11,8,"div",j),r.qc(1,"async"),r.Sc(2,et,3,2,"ng-template",null,P,r.Tc)),2&t){var n=r.Dc(3);r.vc("ngIf",r.rc(1,2,e.authService.user$))("ngIfElse",n)}},directives:[L.t,_.b,I.b,O.a,_.i,J.i,L.s,A.c,J.f],pipes:[L.b,C.d,$],styles:[".restaurant-selector-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.restaurant-selector-wrapper[_ngcontent-%COMP%]   mat-selection-list[_ngcontent-%COMP%]{overflow:auto}.loader-wrapper[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;background:rgba(0,0,0,.2);-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:2}"]}),t}(),rt=n("j2Vq"),ct=n("o7GM"),at=n("GlzI"),it=n("Y0mc"),ot=n("QrbZ"),st=n("P11e"),ut=n("S8bm"),lt=n("sDCv"),pt=new RegExp('(<span class="searched">|</span>)',"g"),ft=function(){function t(){}return t.prototype.transform=function(t,e){if(!t)return[null];if(t.forEach((function(t){return t.name&&(t.name=t.name.replace(pt,""))})),!e)return t;var n=ct.StringUtils.removeAccentedCharacters(e.toLowerCase()),r=t.filter((function(t){var e=ct.StringUtils.removeAccentedCharacters(t.name.toLowerCase()).indexOf(n);return e>=0&&(t.nameHTML=t.name.substr(0,e)+'<span class="searched">'+t.name.substr(e,n.length)+"</span>"+t.name.substr(e+n.length,t.name.length-(e+n.length))),e>=0}));return r.length>0?r:[null]},t.ngPipeDef=r.Wb({name:"searchFoodPipe",type:t,factory:function(e){return new(e||t)},pure:!0}),t}(),dt=["mat-subheader","","style","position: sticky;top: 0;background: #fafafa;z-index:1",4,"ngIf"],gt=[4,"ngIf"],mt=["mat-subheader","",2,"position","sticky","top","0","background","#fafafa","z-index","1"],ht=[2,"margin-left","16px"],vt=["mat-icon-button","","color","primary",3,"matTooltip","click",4,"ngIf"],bt=["mat-icon-button","","color","primary",3,"matTooltip","click"];function yt(t,e){if(1&t){var n=r.fc();r.ec(0,"button",bt),r.kc("click",(function(t){r.Fc(n);var e=r.pc(2);return e.showMap(e.restaurant)})),r.qc(1,"translate"),r.ec(2,"mat-icon"),r.Uc(3,"place"),r.cc(),r.cc()}2&t&&r.wc("matTooltip",r.rc(1,1,"shared.showMap"))}function wt(t,e){if(1&t){var n=r.fc();r.ec(0,"button",bt),r.kc("click",(function(t){r.Fc(n);var e=r.pc(2);return e.restaurantHttpService.openHomepage(e.restaurant)})),r.qc(1,"translate"),r.ec(2,"mat-icon"),r.Uc(3,"home"),r.cc(),r.cc()}2&t&&r.wc("matTooltip",r.rc(1,1,"foods.showHomePage"))}function Ct(t,e){if(1&t&&(r.ec(0,"h2",mt),r.ec(1,"span"),r.Qc(),r.Uc(2),r.cc(),r.ec(3,"small",ht),r.Uc(4),r.qc(5,"translate"),r.cc(),r.Sc(6,yt,4,3,"button",vt),r.Sc(7,wt,4,3,"button",vt),r.cc()),2&t){var n=r.pc();r.Jc(1),r.Nb("searched",n.restaurantMatch),r.Rc(),r.Jc(2),r.Vc(n.restaurant.name),r.Jc(4),r.Xc(" ",n.restaurantHttpService.getDistance(n.restaurant.address)," ",r.rc(5,6,"foods.fromYou"),""),r.Jc(6),r.vc("ngIf",n.restaurant.address),r.Jc(7),r.vc("ngIf",n.restaurant.homepage)}}var St=["mat-line","",1,"centered-vertically",2,"display","flex","flex-wrap","wrap"],xt=[2,"padding","0 16px"],kt=["mat-button","","color","primary",3,"click",4,"ngIf"],Mt=["mat-button","","color","primary",3,"click"];function It(t,e){if(1&t){var n=r.fc();r.ec(0,"button",Mt),r.kc("click",(function(t){r.Fc(n);var e=r.pc(2);return e.restaurantHttpService.openHomepage(e.restaurant)})),r.Uc(1),r.qc(2,"translate"),r.cc()}2&t&&(r.Jc(1),r.Vc(r.rc(2,1,"foods.tryHomepage")))}function Ot(t,e){if(1&t&&(r.ec(0,"mat-list-item"),r.ec(1,"small",St),r.ec(2,"span",xt),r.Uc(3),r.qc(4,"translate"),r.cc(),r.Sc(5,It,3,3,"button",kt),r.cc(),r.cc()),2&t){var n=r.pc();r.Jc(3),r.Wc("",r.rc(4,2,"foods.cannotGetDailyMenu"),"."),r.Jc(5),r.vc("ngIf",n.restaurant.homepage)}}var Ft=[4,"ngFor","ngForOf"];function Ut(t,e){if(1&t){var n=r.fc();r.ec(0,"button",Mt),r.kc("click",(function(t){r.Fc(n);var e=r.pc(3);return e.restaurantHttpService.openHomepage(e.restaurant)})),r.Uc(1),r.qc(2,"translate"),r.cc()}2&t&&(r.Jc(1),r.Vc(r.rc(2,1,"foods.tryHomepage")))}function Rt(t,e){if(1&t&&(r.ec(0,"mat-list-item"),r.ec(1,"small",St),r.ec(2,"span",xt),r.Uc(3),r.qc(4,"translate"),r.cc(),r.Sc(5,Ut,3,3,"button",kt),r.cc(),r.Uc(6,". "),r.cc()),2&t){var n=r.pc(2);r.Jc(3),r.Wc("",r.rc(4,2,"foods.restaurantHasNoPublicMenu"),"."),r.Jc(5),r.vc("ngIf",n.restaurant.homepage)}}var Jt=[3,"hoverable",4,"ngIf","ngIfElse"],_t=["noFilterResults",""],Lt=["defaultIcon","restaurant","mat-list-icon","","type","food",3,"keys",4,"ngIf"],At=["style","order:2","mat-icon-button","","color","primary",3,"matTooltip","click",4,"ngIf"],$t=["mat-line","",3,"innerHTML",4,"ngIf","ngIfElse"],jt=["showTitle",""],Pt=["class","additional-info",4,"ngIf"],Dt=["defaultIcon","restaurant","mat-list-icon","","type","food",3,"keys"],zt=function(t){return[t]};function Ht(t,e){if(1&t&&r.Yb(0,"app-icon-list",Dt),2&t){var n=r.pc(2).$implicit;r.vc("keys",r.yc(1,zt,n.type))}}var Et=["mat-icon-button","","color","primary",2,"order","2",3,"matTooltip","click"];function Tt(t,e){if(1&t){var n=r.fc();r.ec(0,"button",Et),r.kc("click",(function(t){r.Fc(n);var e=r.pc(2).$implicit;return r.pc(2).restaurantHttpService.openFoodImages(e.name)})),r.qc(1,"translate"),r.ec(2,"mat-icon"),r.Uc(3,"image"),r.cc(),r.cc()}2&t&&r.wc("matTooltip",r.rc(1,1,"foods.showDishImages"))}var Yt=["mat-line","",3,"innerHTML"];function Zt(t,e){if(1&t&&r.Yb(0,"h4",Yt),2&t){var n=r.pc(2).$implicit,c=r.pc(2);r.vc("innerHTML",!c.restaurantMatch&&c.localSearchedMath&&n.nameHTML||n.name,r.Gc)}}var qt=["mat-line",""];function Wt(t,e){if(1&t&&(r.ec(0,"h4",qt),r.ec(1,"strong"),r.Uc(2),r.cc(),r.cc()),2&t){var n=r.pc(2).$implicit;r.Jc(2),r.Vc(n.name)}}var Xt=[1,"additional-info"];function Nt(t,e){if(1&t&&(r.ec(0,"span",Xt),r.Uc(1),r.cc()),2&t){var n=r.pc(2).$implicit;r.Jc(1),r.Vc(n.price)}}function Vt(t,e){if(1&t&&(r.ec(0,"span",Xt),r.Uc(1),r.cc()),2&t){var n=r.pc(2).$implicit;r.Jc(1),r.Vc(n.weight)}}function Gt(t,e){if(1&t&&(r.ec(0,"mat-list-item"),r.Qc(),r.Sc(1,Ht,1,3,"app-icon-list",Lt),r.Sc(2,Tt,4,3,"button",At),r.Sc(3,Zt,1,1,"h4",$t),r.Sc(4,Wt,3,1,"ng-template",null,jt,r.Tc),r.Sc(6,Nt,2,1,"span",Pt),r.Sc(7,Vt,2,1,"span",Pt),r.cc()),2&t){var n=r.Dc(5),c=r.pc().$implicit;r.Nb("hoverable",c&&"special"!==c.type),r.Rc(),r.Jc(1),r.vc("ngIf","special"!==c.type),r.Jc(2),r.vc("ngIf","special"!==c.type),r.Jc(3),r.vc("ngIf","special"!==c.type)("ngIfElse",n),r.Jc(6),r.vc("ngIf",c.price),r.Jc(7),r.vc("ngIf",c.weight)}}function Bt(t,e){1&t&&(r.ec(0,"mat-list-item"),r.ec(1,"h4",qt),r.Uc(2),r.qc(3,"translate"),r.cc(),r.cc()),2&t&&(r.Jc(2),r.Vc(r.rc(3,1,"shared.noFilterResults")))}function Kt(t,e){if(1&t&&r.Sc(0,Bt,4,3,"mat-list-item",gt),2&t){var n=r.pc(3);r.vc("ngIf",n.dailyMenu.dishes.length)}}function Qt(t,e){if(1&t&&(r.bc(0),r.Sc(1,Gt,8,7,"mat-list-item",Jt),r.Sc(2,Kt,1,1,"ng-template",null,_t,r.Tc),r.ac()),2&t){var n=e.$implicit,c=r.Dc(3);r.Jc(1),r.vc("ngIf",n)("ngIfElse",c)}}function te(t,e){if(1&t&&(r.bc(0),r.Sc(1,Rt,7,4,"mat-list-item",gt),r.Sc(2,Qt,4,2,"ng-container",Ft),r.qc(3,"searchFoodPipe"),r.ac()),2&t){var n=r.pc();r.Jc(1),r.vc("ngIf",!n.dailyMenu.dishes.length),r.Jc(2),r.vc("ngForOf",n.restaurantMatch?n.dailyMenu.dishes:r.sc(3,2,n.dailyMenu.dishes,n.localSearchedMath))}}var ee=["mode","indeterminate"];function ne(t,e){1&t&&(r.ec(0,"mat-list-item"),r.Yb(1,"mat-progress-bar",ee),r.cc())}var re=function(){function t(t,e,n,r,c){this.dailyMenuHttpService=t,this.restaurantHttpService=e,this.changeDetectorRef=n,this.mapService=r,this.dialog=c,this.loading=!1,this.restaurantMatch=!1}return Object.defineProperty(t.prototype,"searchedFood",{set:function(t){this.localSearchedMath=t,this.restaurantMatch=this.isRestaurantMatch(),this.changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),t.prototype.isRestaurantMatch=function(){if(!this.restaurant||!this.localSearchedMath||this.localSearchedMath.length<3)return!1;var t=ct.StringUtils.removeAccentedCharacters(this.localSearchedMath.toLowerCase());return ct.StringUtils.removeAccentedCharacters(this.restaurant.name).toLowerCase().indexOf(t)>=0||ct.StringUtils.removeAccentedCharacters(this.restaurant.key).toLowerCase().indexOf(t)>=0},Object.defineProperty(t.prototype,"restaurantKey",{set:function(t){var e=this;t&&(this.loading=!0,this.restaurantHttpService.getRestaurantByKey(t).pipe(Object(b.a)((function(n){return n?(e.restaurant=n,e.dailyMenuHttpService.getDailyMenuFor(t)):Object(u.a)(null)}))).subscribe((function(t){e.dailyMenu=t,e.loading=!1})))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.showMap=function(t){t.address&&this.dialog.open(at.a,{width:"95%",height:"95%",data:this.mapService.getLocationEmbedUrlFromLatAndLong(Number(t.address.latitude),Number(t.address.longitude))})},t.prototype.getIconByType=function(t){switch(t){case"pizza":return"local_pizza";case"burger":return"hamburger";case"fish":return"fish";case"salad":return"salad";default:return"restaurant"}},t.ngComponentDef=r.Rb({type:t,selectors:[["app-restaurant-row"]],factory:function(e){return new(e||t)(r.Xb(h),r.Xb(x),r.Xb(r.j),r.Xb(it.a),r.Xb(ot.b))},inputs:{searchedFood:"searchedFood",restaurantKey:"restaurantKey"},consts:4,vars:4,template:function(t,e){1&t&&(r.Sc(0,Ct,8,8,"h2",dt),r.Sc(1,Ot,6,4,"mat-list-item",gt),r.Sc(2,te,4,5,"ng-container",gt),r.Sc(3,ne,2,0,"mat-list-item",gt)),2&t&&(r.vc("ngIf",e.restaurant),r.Jc(1),r.vc("ngIf",null===e.dailyMenu),r.Jc(2),r.vc("ngIf",e.dailyMenu),r.Jc(3),r.vc("ngIf",e.loading))},directives:[L.t,J.g,F.b,U.a,O.a,J.d,ut.k,L.s,lt.a,J.c,st.a],pipes:[C.d,ft],styles:[".hoverable[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.04)}.additional-info[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;white-space:nowrap;margin:0 1em}@media only screen and (max-width:767px){.additional-info[_ngcontent-%COMP%]{margin:0 .1em}}.centered-vertically[_ngcontent-%COMP%]{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:bolder}"]}),t}(),ce=n("lZIM"),ae=[1,"wrapper"],ie=["color","primary"],oe=[2,"height","100%"],se=["matInput","",3,"placeholder"],ue=["searchFood",""],le=["matSuffix",""],pe=[1,"divider"],fe=["class","one-row-warning",4,"ngIf"],de=["mat-icon-button","",3,"matTooltip","click"],ge=[4,"ngIf"],me=[1,"example-sidenav-container"],he=["mode","over","fixedTopGap","56","position","end"],ve=["snav",""],be=[3,"min-height",4,"ngIf"],ye=[1,"one-row-warning"];function we(t,e){1&t&&(r.ec(0,"span",ye),r.Uc(1),r.qc(2,"translate"),r.cc()),2&t&&(r.Jc(1),r.Wc(" ",r.rc(2,1,"foods.forSpecificRestaurantsClickOn")," "))}function Ce(t,e){1&t&&r.Yb(0,"app-login-screen")}var Se=[2,"width","fit-content","max-width","100%","margin","0 auto"],xe=[4,"ngFor","ngForOf"],ke=[3,"searchedFood","restaurantKey"];function Me(t,e){1&t&&r.Yb(0,"mat-divider")}function Ie(t,e){if(1&t&&(r.bc(0),r.Sc(1,Me,1,0,"mat-divider",ge),r.Yb(2,"app-restaurant-row",ke),r.ac()),2&t){var n=e.$implicit,c=e.index;r.pc(2);var a=r.Dc(5);r.Jc(1),r.vc("ngIf",c>0),r.Jc(2),r.vc("searchedFood",a.value)("restaurantKey",n)}}function Oe(t,e){1&t&&(r.ec(0,"span",ye),r.Uc(1),r.qc(2,"translate"),r.ec(3,"mat-icon"),r.Uc(4,"menu"),r.cc(),r.cc()),2&t&&(r.Jc(1),r.Wc(" ",r.rc(2,1,"foods.forRestaurantSelectionClickOn")," "))}function Fe(t,e){if(1&t&&(r.ec(0,"mat-sidenav-content"),r.Qc(),r.ec(1,"mat-list",Se),r.Sc(2,Ie,3,3,"ng-container",xe),r.cc(),r.Sc(3,Oe,5,3,"span",fe),r.cc()),2&t){var n=r.pc();r.Pc("min-height",n.minHeight),r.Rc(),r.Jc(2),r.vc("ngForOf",n.selectedRestaurants),r.Jc(3),r.vc("ngIf",n.selectedRestaurants&&0===n.selectedRestaurants.length)}}var Ue=function(){function t(t,e,n,r){this.dailyMenuHttpService=t,this.bottomSheet=e,this.restaurantHttpService=n,this.authService=r,this.standAlone=!1}return Object.defineProperty(t.prototype,"minHeight",{get:function(){return"calc(100vh - "+(this.standAlone?64:128)+"px)"},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.authService.user$.subscribe((function(e){e?t.selectedRestaurants=e.favoriteRestaurants||[]:t.restaurantHttpService.getRestaurants().subscribe((function(e){t.selectedRestaurants=e.map((function(t){return t.key+""}))}))}))},t.prototype.openFeedback=function(){this.bottomSheet.open(i.a,{data:{screen:"Foods"}})},t.ngComponentDef=r.Rb({type:t,selectors:[["app-overview"]],factory:function(e){return new(e||t)(r.Xb(h),r.Xb(k.b),r.Xb(x),r.Xb(o.a))},consts:27,vars:14,template:function(t,e){if(1&t){var n=r.fc();r.ec(0,"div",ae),r.ec(1,"mat-toolbar",ie),r.ec(2,"mat-toolbar-row"),r.ec(3,"mat-form-field",oe),r.Yb(4,"input",se,ue),r.qc(6,"translate"),r.ec(7,"mat-icon",le),r.Uc(8,"search"),r.cc(),r.cc(),r.Yb(9,"span",pe),r.Sc(10,we,3,3,"span",fe),r.qc(11,"async"),r.Yb(12,"span",pe),r.ec(13,"button",de),r.kc("click",(function(t){return r.Fc(n),r.Dc(24).toggle()})),r.qc(14,"translate"),r.ec(15,"mat-icon"),r.Uc(16,"menu"),r.cc(),r.cc(),r.ec(17,"button",de),r.kc("click",(function(t){return e.openFeedback()})),r.qc(18,"translate"),r.ec(19,"mat-icon"),r.Uc(20,"feedback"),r.cc(),r.cc(),r.Sc(21,Ce,1,0,"app-login-screen",ge),r.cc(),r.cc(),r.ec(22,"mat-sidenav-container",me),r.ec(23,"mat-sidenav",he,ve),r.Yb(25,"app-restaurant-selector"),r.cc(),r.Sc(26,Fe,4,3,"mat-sidenav-content",be),r.cc(),r.cc()}2&t&&(r.Jc(4),r.wc("placeholder",r.rc(6,6,"common.search")),r.Jc(10),r.vc("ngIf",!r.rc(11,8,e.authService.user$)),r.Jc(13),r.wc("matTooltip",r.rc(14,10,"foods.restaurantSelection")),r.Jc(17),r.wc("matTooltip",r.rc(18,12,"shared.feedbackPanel")),r.Jc(21),r.vc("ngIf",e.standAlone),r.Jc(26),r.vc("ngIf",e.authService.user$))},directives:[M.a,M.c,_.b,I.b,O.a,_.i,L.t,F.b,U.a,R.e,R.d,nt,rt.a,R.f,J.a,L.s,re,ce.a],pipes:[C.d,L.b],styles:[".wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}@media only screen and (max-width:1024px){.wrapper[_ngcontent-%COMP%]   mat-toolbar-row[_ngcontent-%COMP%]{font-size:17px}.wrapper[_ngcontent-%COMP%]   mat-toolbar-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:120px}}@media only screen and (max-width:724px){.wrapper[_ngcontent-%COMP%]   mat-toolbar-row[_ngcontent-%COMP%]{font-size:14px}.wrapper[_ngcontent-%COMP%]   mat-toolbar-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:80px}}.one-row-warning[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:1rem;-webkit-box-align:center;-ms-flex-align:center;align-items:center}"]}),t}(),Re=n("DUip"),Je=[{path:"",children:[{path:"",pathMatch:"full",component:Ue}]}],_e=function(){function t(){}return t.ngModuleDef=r.Vb({type:t}),t.ngInjectorDef=r.Ub({factory:function(e){return new(e||t)},imports:[[Re.l.forChild(Je)],Re.l]}),t}();Re.l.forChild(Je),n.d(e,"FoodsModule",(function(){return Le}));var Le=function(){function t(){}return t.ngModuleDef=r.Vb({type:t}),t.ngInjectorDef=r.Ub({factory:function(e){return new(e||t)},providers:[x,h],imports:[[a.a,_e,c.a]]}),t}()}}]);